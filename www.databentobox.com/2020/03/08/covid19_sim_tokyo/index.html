<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Source Themes Academic 4.8.0"><meta name=author content="databentobox"><meta name=description content="Simulations of coronavirus outbreak in central Tokyo area based on SIR model and origin-destination flow data"><link rel=alternate hreflang=en-us href=https://www.databentobox.com/2020/03/08/covid19_sim_tokyo/><meta name=theme-color content="rgb(251, 191, 183)"><script src=/js/mathjax-config.js></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css integrity="sha256-4w9DunooKSr3MFXHXWyFER38WmPdm361bQS/2KUWZbU=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/github.min.css crossorigin=anonymous title=hl-light><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark disabled><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css integrity="sha256-SHMGCYmST46SoyGgo4YR/9AlK1vf3ff84Aq9yK4hdqM=" crossorigin=anonymous><script src=https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin=anonymous async></script><script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js integrity crossorigin=anonymous async></script><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather%7CRoboto+Mono&display=swap"><link rel=stylesheet href=/css/academic.min.b6fc91125bd1ba34c5d6ae4d3e86ef95.css><script async src="https://www.googletagmanager.com/gtag/js?id=UA-80831270-2"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
function trackOutboundLink(url,target){gtag('event','click',{'event_category':'outbound','event_label':url,'transport_type':'beacon','event_callback':function(){if(target!=='_blank'){document.location=url;}}});console.debug("Outbound link clicked: "+url);}
function onClickCallback(event){if((event.target.tagName!=='A')||(event.target.host===window.location.host)){return;}
trackOutboundLink(event.target,event.target.getAttribute('target'));}
gtag('js',new Date());gtag('config','UA-80831270-2',{});document.addEventListener('click',onClickCallback,false);</script><link rel=manifest href=/index.webmanifest><link rel=icon type=image/png href=/images/icon_hu607fb4c3befdf3c5f58c6d41da344402_141045_32x32_fill_lanczos_center_2.png><link rel=apple-touch-icon type=image/png href=/images/icon_hu607fb4c3befdf3c5f58c6d41da344402_141045_192x192_fill_lanczos_center_2.png><link rel=canonical href=https://www.databentobox.com/2020/03/08/covid19_sim_tokyo/><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@PresstoFan"><meta property="twitter:creator" content="@PresstoFan"><meta property="og:site_name" content="databentobox"><meta property="og:url" content="https://www.databentobox.com/2020/03/08/covid19_sim_tokyo/"><meta property="og:title" content="The Effectiveness of Reducing Population Movement in Managing Coronavirus Outbreak | databentobox"><meta property="og:description" content="Simulations of coronavirus outbreak in central Tokyo area based on SIR model and origin-destination flow data"><meta property="og:image" content="https://www.databentobox.com/2020/03/08/covid19_sim_tokyo/featured.png"><meta property="twitter:image" content="https://www.databentobox.com/2020/03/08/covid19_sim_tokyo/featured.png"><meta property="og:locale" content="en-us"><meta property="article:published_time" content="2020-03-08T20:30:43+00:00"><meta property="article:modified_time" content="2020-04-06T01:04:44+01:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.databentobox.com/2020/03/08/covid19_sim_tokyo/"},"headline":"The Effectiveness of Reducing Population Movement in Managing Coronavirus Outbreak","image":["https://www.databentobox.com/2020/03/08/covid19_sim_tokyo/featured.png"],"datePublished":"2020-03-08T20:30:43Z","dateModified":"2020-04-06T01:04:44+01:00","author":{"@type":"Person","name":"databentobox"},"publisher":{"@type":"Organization","name":"databentobox","logo":{"@type":"ImageObject","url":"https://www.databentobox.com/images/icon_hu607fb4c3befdf3c5f58c6d41da344402_141045_192x192_fill_lanczos_center_2.png"}},"description":"Simulations of coronavirus outbreak in central Tokyo area based on SIR model and origin-destination flow data"}</script><title>The Effectiveness of Reducing Population Movement in Managing Coronavirus Outbreak | databentobox</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents><aside class=search-results id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=#><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder=Search... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>databentobox</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>databentobox</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/#featured><span>Featured</span></a></li><li class=nav-item><a class=nav-link href=/#posts><span>Recent Posts</span></a></li><li class=nav-item><a class=nav-link href=/#tags><span>Tags</span></a></li><li class=nav-item><a class=nav-link href=/#blogroll><span>Links</span></a></li><li class=nav-item><a class=nav-link href=/#about><span>About me</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=#><i class="fas fa-search" aria-hidden=true></i></a></li><li class=nav-item><a class="nav-link js-dark-toggle" href=#><i class="fas fa-moon" aria-hidden=true></i></a></li></ul></div></nav><article class=article><div class="article-container pt-3"><h1>The Effectiveness of Reducing Population Movement in Managing Coronavirus Outbreak</h1><p class=page-subtitle>Simulations of coronavirus outbreak in central Tokyo area based on SIR model and origin-destination flow data</p><div class=article-metadata><div><span><a href=/authors/databentobox/>databentobox</a></span></div><span class=article-date>Last updated on
Apr 6, 2020</span>
<span class=middot-divider></span><span class=article-reading-time>11 min read</span>
<span class=middot-divider></span><a href=/2020/03/08/covid19_sim_tokyo/#disqus_thread></a><span class=middot-divider></span><span class=article-categories><i class="fas fa-folder mr-1"></i><a href=/categories/covid-19/>COVID-19</a></span></div></div><div class="article-header article-container featured-image-wrapper mt-4 mb-4" style=max-width:700px;max-height:500px><div style=position:relative><img src=/2020/03/08/covid19_sim_tokyo/featured.png alt class=featured-image></div></div><div class=article-container><div class=article-style><p>In dealing with the outbreak of the coronavirus, China has slapped extraordinary lockdowns on Wuhan and nearby cities, effectively curbing all movement of over 50 million people. Italy is going to extend the initial lockdowns of northern states to include the whole country. Many cities around the world have cancelled school and advising people to work from home, hoping to contain the virus by reducing movement and contact. The UK government also introduced the virus plan, in which social-distancing measures such as school closures and restrictions on the use of public transport are on the list. But what role transportation plays in spreading the disease in modern megacities? Can these measures be effective?</p><p>In this post, I will try to answer these questions by running a couple of simulations based on real-world data. I will use the simple SIR model as a starting point, together with the population density and traffic flow data to simulate a potential outbreak of coronavirus in an urban area. In theory, the outbreak can happen in any city in the world but population and transportation data is not always available. For this post, I will pick Tokyo as an example. It is a megacity with an extensive network of railways, subways and highways and I was also able to get granular transportation and population density data for the area covered in the simulations.</p><div class="alert alert-warning"><div><strong>Disclaimer</strong>: I am not an epidemiologist and this is by no means an accurate model. The simulations are for data science and visualisation discussions only and are not predictions of if and how the outbreak will happen as they rely on strong assumptions (see the Assumptions section below for details). As such, the simulations are used as a tool for understanding the relationship between movement and the spread of an infectious disease.</div></div><p>In the next section of the post, I will show the simulations. The model, data and assumptions the simulations are based upon can be found in the later sections.</p><h2 id=simulations>Simulations</h2><h3 id=scenario-1-all-traffic-as-usual>Scenario 1: All traffic as usual</h3><p>We will focus on the central Tokyo area for all the simulations. This is one of the most populous areas in the world with a population of 14 million. We suppose the outbreak starts in Shinjuku with an initial 100 infected cases. The first simulation assumes all traffic as usual, which provides a baseline. The graph below shows the time series of susceptible, infected and recovered, as the proportion of the total population. The simulation suggests the outbreak lasts about 200 days with 18.5% of the population infected (the simulation stops when there are no new cases). Due to the assumptions made, this is probably close to the worst-case scenario and the real-life infected cases are very unlikely to be this high.</p><div><a href="https://plot.ly/~presstofan/72/?share_key=e7qt5lhRiSLZ9GoeaSzJhd" target=_blank title=tokyo_sim_all_traffic_curves style=display:block;text-align:center><img src="https://plot.ly/~presstofan/72.png?share_key=e7qt5lhRiSLZ9GoeaSzJhd" alt=tokyo_sim_all_traffic_curves style=max-width:100%;width:600px width=600 onerror="this.onerror=null;this.src='https://plot.ly/404.png';"></a>
<script data-plotly=presstofan:72 sharekey-plotly=e7qt5lhRiSLZ9GoeaSzJhd src=https://plot.ly/embed.js async></script></div><p>Below is a time-lapse visualisation of the outbreak. It starts from Shinjuku, then travels west and south-west before spreading to the central and east part of the city. This pattern is likely due to the population density and traffic flow of Tokyo. (Sorry that I have to take down the good quality GIFs and replaced them with YouTube video but I can&rsquo;t afford the bandwidth!)</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/s__TdmLymRM style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><p>This pattern can be seen more clearly when we show it at the 10-day interval. I have also labelled the districts for context.</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/sSlqCKA8tfc style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><h3 id=scenario-2-schools-cancelled>Scenario 2: Schools cancelled</h3><p>Let&rsquo;s see what will happen if the schools are cancelled. According to the OD Flow data, 6.4% of the trips in the Tokyo area are trips related to school. However, the percentage would be higher as the data group all the return-to-home trips together, making it impossible to separate the return-to-home-from-school trips from others. For this simulation, I will simply use the data that is clearly labelled as school trips. We will take these out and re-run the simulation with the same settings. The graph below shows that the outbreak now peaks at Day 84 and a total of 17.3% of the population are infected, a 6.5% reduction from the first scenario.</p><div><a href="https://plot.ly/~presstofan/78/?share_key=8oIdkn4Z11sEKzMHsTq1SM" target=_blank title=tokyo_sim_non_school_curves style=display:block;text-align:center><img src="https://plot.ly/~presstofan/78.png?share_key=8oIdkn4Z11sEKzMHsTq1SM" alt=tokyo_sim_non_school_curves style=max-width:100%;width:600px width=600 onerror="this.onerror=null;this.src='https://plot.ly/404.png';"></a>
<script data-plotly=presstofan:78 sharekey-plotly=8oIdkn4Z11sEKzMHsTq1SM src=https://plot.ly/embed.js async></script></div><p>The spread pattern is similar to what we have seen before. This is not surprising given that we would expect the disease can still be spread to other places by other people.</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/zj7dlF3cAWg style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><h3 id=scenario-3-people-working-from-home-and-school-cancelled>Scenario 3: People working from home and school cancelled</h3><p>Finally, we will simulate the scenario where people are also advised to work from home. This reduces the trips by a total of 30%. Again, this number could be lower than it should be due to the data issues described above, potentially underestimating the effect of &ldquo;working from home&rdquo;. Still, the simulation shows that the peak of the outbreak is pushed back to Day 132 and only 12.9% of the population is infected ( a 30% reduction from Scenario 1).</p><div><a href="https://plot.ly/~presstofan/80/?share_key=T4ljjYNx1c0cuwJ2qpyl1J" target=_blank title=tokyo_sim_non_work_school_curves style=display:block;text-align:center><img src="https://plot.ly/~presstofan/80.png?share_key=T4ljjYNx1c0cuwJ2qpyl1J" alt=tokyo_sim_non_work_school_curves style=max-width:100%;width:600px width=600 onerror="this.onerror=null;this.src='https://plot.ly/404.png';"></a>
<script data-plotly=presstofan:80 sharekey-plotly=T4ljjYNx1c0cuwJ2qpyl1J src=https://plot.ly/embed.js async></script></div><p>Because the outbreak has been &ldquo;stretched&rdquo; longer, we can see the west-to-east pattern more clearly, with the infection moving from one district to another, rather than affecting all the districts at the same time (as we have seen in Scenario 1 and 2).</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/9r1quDno3WM style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><h3 id=what-do-the-simulations-tell-us>What do the simulations tell us</h3><p>Can measures that reduce population movement such as cancelling school and advising people to work from home be effective? Almost certainly. The graph below compares the infection curves of the three scenarios. In the &ldquo;no school, work from home&rdquo; scenario, the curve is not only shorter (meaning less infection at the peak of the outbreak) but also much flatter (meaning the number of infection grows much slower at the beginning of the outbreak). Let&rsquo;s suppose when operating with maximum capacity, the health care system of Tokyo can only cope with 2% of the population being infected (as shown by the dashed line). The first scenario (&ldquo;all traffic as usual&rdquo;) would be a disaster as the number of patients grow too quickly and overwhelms the health care system in just 60 days, with 4.2% infected at the peak time. Cancelling the school (the second scenario) delays and lowers the peak but it is probably not enough. The final scenario (advising people to work from home and cancelling school) lowers the peak to 1.8% and makes it take twice of the time (132 days) to reach the peak, greatly reducing the pressure on the health care system. This also means that the outbreak could last longer overall (300 days vs 200 days as shown by the simulations, albeit the long tail only accounts for a small proportion of the infection). Previously, we also learned that the &ldquo;no school, work from home&rdquo; scenario leads to overall fewer people being infected. Counting all these together, it is understandable that the UK government has a &ldquo;delay&rdquo; phase in the virus plan and why it says &ldquo;managing the coronavirus outbreak is a marathon, not a sprint&rdquo;.</p><div><a href="https://plot.ly/~presstofan/82/?share_key=018p2rdlAd0jKYYJpk8yMk" target=_blank title=tokyo_sim_comparison_curves style=display:block;text-align:center><img src="https://plot.ly/~presstofan/82.png?share_key=018p2rdlAd0jKYYJpk8yMk" alt=tokyo_sim_comparison_curves style=max-width:100%;width:600px width=600 onerror="this.onerror=null;this.src='https://plot.ly/404.png';"></a>
<script data-plotly=presstofan:82 sharekey-plotly=018p2rdlAd0jKYYJpk8yMk src=https://plot.ly/embed.js async></script></div><h2 id=model>Model</h2><p>The simulations are based on the simple SIR model, which computes the theoretical number of people infected with a contagious illness in a closed population over time. I first encountered this model in one of the episodes of the American crime drama Numb3rs, in which the math genius Charlie attempts to use the model to locate the point of origin of a bioterrorist attack. The model assumes there are three compartments in outbreaks of infectious diseases, <strong>S</strong> for the number <strong>s</strong>usceptible, <strong>I</strong> for the number of <strong>i</strong>nfectious, and <strong>R</strong> for the number <strong>r</strong>ecovered (or immune). Susceptible people catch the disease and become infectious. He/she may pass the disease to other people before recovering. Once recovered, he/she become immune and can no longer catch the disease again. The model is dynamic, meaning that people can move from one compartment to another following the order of S -> I -> R (but not the other way around). This can be expressed by the following equations:</p><p>$$\frac{dS}{dt} = -\frac{\beta IS}{N}$$
$$\frac{dI}{dt} = \frac{\beta IS}{N} - \gamma I$$
$$\frac{dR}{dt} = \gamma I,$$</p><p>where <em>S</em> is the stock of susceptible population, <em>I</em> is the stock of infected, and <em>R</em> is the stock of recovered population. $\beta$ and $\gamma$ are the transition rates between different compartments. For example, the transition rate between S and I is $\beta$, which can be defined as the average number of contacts per person times the probability of disease transmission in one contact between a susceptible and an infectious subject. Between I and R, the transition rate is $\gamma$, which is simply the rate of recovery or death. If the duration of the infection is $D$, then $\gamma = \frac{1}{D}$, since the infected group see one recovery/death in $D$ units of time.</p><p>$R_{0}$, the basic reproduction number of the virus that has been wildly quoted, can be derived from $\beta$ and $\gamma$.</p><p>$$R_{0} = \frac{\beta }{\gamma }$$</p><p>$R_{0}$ is defined as the number of secondary infections caused by a single primary infection; in other words, it determines the number of people infected by contact with a single infected person before his/her death or recovery.</p><p>Now we have the basic model of the spreading of the infectious disease. But how can we link this to the transportation system of a city? For this, Urban Data Scientist
<a href=https://lexparsimon.github.io/coronavirus/ target=_blank rel=noopener>Gevorg Yeghikyan</a> found a good solution based on a
<a href=https://www.nature.com/articles/s41467-017-02064-4 target=_blank rel=noopener>Nature article</a>. The hazard of introducing an infectious disease to a new location can be expressed below:</p><p>$$
h(t,j)=\frac{\beta_{t}S_{j,t}(1-\exp(-\sum_{k}m^{_{j,k}^{t}}x_{k,t}y_{j,t}))}{1+\beta_{t}S_{j,t}},
$$</p><p>where $\beta_{t}$ is the S-I transition rate at time $t$, $m^{_{j,k}^{t}}$ reflects mobility from location $k$ to location $j$ at time $t$; $x_{k,t}$ and $y_{j,t}$ denote the proportion of infected and susceptible population at location $k$ and $j$ at time $t$, which can be expressed as below:</p><p>$$x_{k,t}=\frac{I_{k,t}}{N_{k}}$$
$$y_{j,t}=\frac{S_{j,t}}{N_{j}},$$</p><p>where $I_{k,t}$ and $S_{j,t}$ are the total infected and susceptible cases at location $k$ and $j$, $N_{k}$ and $N_{j}$ are the total population of the two locations. Combining the above probability of introducing the disease into a new location with the SIR model we get:</p><p>$$S_{j,t+1}=S_{j,t}-\frac{\beta_{j,t}S_{j,t}I_{j,t}}{N_{j}}-\frac{S_{j,t}\sum_km_{j,k}^tx_{k,t}\beta_{k,t}}{N_{j}+\sum_km_{j,k}^t}$$</p><p>$$I_{j,t+1}=I_{j,t}+\frac{\beta_{j,t}S_{j,t}I_{j,t}}{N_{j}}+\frac{S_{j,t}\sum_km_{j,k}^tx_{k,t}\beta_{k,t}}{N_{j}+\sum_km_{j,k}^t}-\gamma I_{j,t}$$</p><p>$$R_{j,t+1}=R_{j,t}+\gamma I_{j,t}$$</p><p>This just means that at a given time and a given location, the number of infected cases consist of people who are infected within the location ($\frac{\beta_{j,t}S_{j,t}I_{j,t}}{N_{j}}$) and those who arrive from other locations ($\frac{S_{j,t}\sum_km_{j,k}^tx_{k,t}\beta_{k,t}}{N_{j}+\sum_km_{j,k}^t}$), which is calculated accounting for the flow of population. For this version, we are going to play down the effect of local transmission so that we can see the effect of population movement clearly. From here, the simulations can be built using simple matrix calculation and loops. We are essentially creating a combination of two markov processes, one is the process from susceptible to infected to recovered and the other is the process of disease spreading from one location to another. The simulations run through the markov chain iteratively.</p><h2 id=assumptions>Assumptions</h2><p>Modelling the spread of an infectious disease is hard as the system is dynamic and complicated. For the sake of simplicity, the following assumptions are made for the simulations in this post:</p><ul><li>The average transition rate between susceptible and infectious ($\beta$) is <strong>0.3</strong>; in the simulation, we assume the $\beta$ in each cell is from a gamma distribution with a mean of 0.3 and scale of 2.</li><li>The transition rate between infectious and recovered ($\gamma$) is <strong>0.1</strong>, meaning the average recovery day is 10.</li><li>The above means that we assume the average $R_{0}$ is 3, which sits in the middle of the
<a href=https://www.ncbi.nlm.nih.gov/pubmed/32007643 target=_blank rel=noopener>estimation by scientists</a>.</li><li>The SIR model does not consider the incubation period nor the possibility that the ability to pass on the disease can vary in different stages. It simply assumes people will become contagious once they are infected. This is a strong assumption.</li><li>We assume that people&rsquo;s mobility won&rsquo;t change when they have the disease. Again, this is also a strong assumption.</li><li>No measure (e.g. quarantine, isolation, hospitalisation) is taken to tackle the outbreak.</li><li>The outbreak starts from a populous and well-connected area (e.g. Shinjuku) with an initial 100 infected cases.</li></ul><p>These assumptions probably mean that the simulations are based on the ideal scenario and it is very unlikely that we are going to see it in real life. However, the simulations can still provide a scope to see the role of transportation and human movement play in a potential outbreak in megacities.</p><h2 id=data>Data</h2><p>To model the spread of the disease we need to know the pattern of movement in a typical day. I have found the &ldquo;Traffic Flow: Person Trip OD Amount Data&rdquo; from
<a href=http://nlftp.mlit.go.jp/ksj-e/gml/datalist/KsjTmplt-S05-b.html target=_blank rel=noopener>Japan National Land Numeric Information website</a>. The dataset has OD (origin-destination) amounts by the purpose and by the transportation means between zones derived from surveys on person trips in three major metropolitan areas (Tokyo urban area, Kinki Urban Area, and Chukyo urban area). I used a subset of the Tokyo urban area data.</p><p>We also need to know the population in each of the simulated locations. This kind of information is available through the format of raster file, which I got from
<a href="https://www.worldpop.org/geodata/summary?id=6381" target=_blank rel=noopener>WorldPop</a>. The original resolution is 100 m<sup>2</sup>. Simulating at this resolution in the central Tokyo area would generate hundreds of millions of cells, which is not practical. I, therefore, used a much lower resolution at 1 km<sup>2</sup>. This still makes the population data at a finer level than the OD flow data which is at zone-level (i.e. sub-district). I have matched the two datasets by making a couple of simple assumptions.</p><p>Combining these two datasets we have something below. The heatmap shows the population density while the lines are OD flows.</p><p><img src=tokyo_od_pop_map.png alt="Tokyo OD Flow and Population"></p></div><div class=article-tags><a class="badge badge-light" href=/tags/covid-19/>COVID-19</a>
<a class="badge badge-light" href>新冠肺炎</a></div><div class=share-box aria-hidden=true><ul class=share><li><a href="https://twitter.com/intent/tweet?url=https://www.databentobox.com/2020/03/08/covid19_sim_tokyo/&text=The%20Effectiveness%20of%20Reducing%20Population%20Movement%20in%20Managing%20Coronavirus%20Outbreak" target=_blank rel=noopener class=share-btn-twitter><i class="fab fa-twitter"></i></a></li><li><a href="https://www.facebook.com/sharer.php?u=https://www.databentobox.com/2020/03/08/covid19_sim_tokyo/&t=The%20Effectiveness%20of%20Reducing%20Population%20Movement%20in%20Managing%20Coronavirus%20Outbreak" target=_blank rel=noopener class=share-btn-facebook><i class="fab fa-facebook-f"></i></a></li><li><a href="mailto:?subject=The%20Effectiveness%20of%20Reducing%20Population%20Movement%20in%20Managing%20Coronavirus%20Outbreak&body=https://www.databentobox.com/2020/03/08/covid19_sim_tokyo/" target=_blank rel=noopener class=share-btn-email><i class="fas fa-envelope"></i></a></li><li><a href="https://www.linkedin.com/shareArticle?url=https://www.databentobox.com/2020/03/08/covid19_sim_tokyo/&title=The%20Effectiveness%20of%20Reducing%20Population%20Movement%20in%20Managing%20Coronavirus%20Outbreak" target=_blank rel=noopener class=share-btn-linkedin><i class="fab fa-linkedin-in"></i></a></li><li><a href="https://web.whatsapp.com/send?text=The%20Effectiveness%20of%20Reducing%20Population%20Movement%20in%20Managing%20Coronavirus%20Outbreak%20https://www.databentobox.com/2020/03/08/covid19_sim_tokyo/" target=_blank rel=noopener class=share-btn-whatsapp><i class="fab fa-whatsapp"></i></a></li><li><a href="http://service.weibo.com/share/share.php?url=https://www.databentobox.com/2020/03/08/covid19_sim_tokyo/&appkey=&title=The%20Effectiveness%20of%20Reducing%20Population%20Movement%20in%20Managing%20Coronavirus%20OutbreakDescription&pic=&ralateUid=&language=zh_cn" target=_blank rel=noopener class=share-btn-weibo><i class="fab fa-weibo"></i></a></li><li><a href="https://reddit.com/submit?url=https://www.databentobox.com/2020/03/08/covid19_sim_tokyo/&title=The%20Effectiveness%20of%20Reducing%20Population%20Movement%20in%20Managing%20Coronavirus%20Outbreak" target=_blank rel=noopener class=share-btn-reddit><i class="fab fa-reddit-alien"></i></a></li></ul></div><div class="media author-card content-widget-hr"><div class=media-body><h5 class=card-title><a href=/authors/databentobox/></a></h5><ul class=network-icon aria-hidden=true></ul></div></div><section id=comments><div id=disqus_thread></div><script>let disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='https://'+"databentobox"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section><div class="article-widget content-widget-hr"><h3>Related</h3><ul><li><a href=/2020/02/16/2019ncov_shenzhen_9_feb_2020/>新冠肺炎深圳市数据分析 —— 2月16日 Data Analysis of COVID-19 (Coronavirus) Cases in Shenzhen - 16 Feb</a></li><li><a href=/2020/02/09/2019ncov_beijing_9_feb_2020/>新冠肺炎北京市数据分析 —— 2月9日 Data Analysis of COVID-19 (Coronavirus) Cases in Beijing - 9 Feb</a></li><li><a href=/2020/02/02/2019ncov_beijing_2_feb_2020/>新冠肺炎北京市数据分析 —— 2月2日 Data Analysis of COVID-19 (Coronavirus) Cases in Beijing - 2 Feb</a></li></ul></div></div></article><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.4.8/mermaid.min.js integrity="sha256-lyWCDMnMeZiXRi7Zl54sZGKYmgQs4izcT7+tKc+KUBk=" crossorigin=anonymous title=mermaid></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js integrity="sha256-eOgo0OtLL4cdq7RdwRUiGKLX9XsIJ7nGhWEKbohmVAQ=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/r.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.js integrity="sha256-EErZamuLefUnbMBQbsEqu1USa+btR2oIlCpBJbyD4/g=" crossorigin=anonymous></script><script>const code_highlighting=true;</script><script>const isSiteThemeDark=false;</script><script>const search_config={"indexURI":"/index.json","minLength":1,"threshold":0.3};const i18n={"no_results":"No results found","placeholder":"Search...","results":"results found"};const content_type={'post':"Posts",'project':"Projects",'publication':"Publications",'talk':"Talks"};</script><script id=search-hit-fuse-template type=text/x-template>
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script><script src=https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin=anonymous></script><script id=dsq-count-scr src=https://databentobox.disqus.com/count.js async></script><script src=/js/academic.min.c816d323c3a55093dae0829b44ea1ca8.js></script><div class=container><footer class=site-footer><p class=powered-by>databentobox © 2020 &#183;
Powered by the
<a href=https://sourcethemes.com/academic/ target=_blank rel=noopener>Academic theme</a> for
<a href=https://gohugo.io target=_blank rel=noopener>Hugo</a>.
<span class=float-right aria-hidden=true><a href=# class=back-to-top><span class=button_icon><i class="fas fa-chevron-up fa-2x"></i></span></a></span></p></footer></div><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Cite</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code class="tex hljs"></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i>Copy</a>
<a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i>Download</a><div id=modal-error></div></div></div></div></div></body></html>
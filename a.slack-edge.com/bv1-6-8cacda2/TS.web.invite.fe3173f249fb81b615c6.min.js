(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[151],{102:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},105:function(e,t,n){var r=n(59);var i=n(64);var a=n(169);var o=n(80);var s="prototype";var u=function(e,t,n){var l=e&u.F;var c=e&u.G;var _=e&u.S;var v=e&u.P;var f=e&u.B;var m=e&u.W;var d=c?i:i[t]||(i[t]={});var p=d[s];var b=c?r:_?r[t]:(r[t]||{})[s];var w,h,S;c&&(n=t);for(w in n){h=!l&&b&&void 0!==b[w];if(h&&w in d)continue;S=h?b[w]:n[w];d[w]=c&&"function"!=typeof b[w]?n[w]:f&&h?a(S,r):m&&b[w]==S?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};t[s]=e[s];return t}(S):v&&"function"==typeof S?a(Function.call,S):S;if(v){(d.virtual||(d.virtual={}))[w]=S;e&u.R&&p&&!p[w]&&o(p,w,S)}}};u.F=1;u.G=2;u.S=4;u.P=8;u.B=16;u.W=32;u.U=64;u.R=128;e.exports=u},110:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},111:function(e,t){var n=Math.ceil;var r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},114:function(e,t){var n=0;var r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},118:function(e,t,n){var r=n(130)("keys");var i=n(114);e.exports=function(e){return r[e]||(r[e]=i(e))}},121:function(e,t,n){var r=n(166);var i=n(131);e.exports=Object.keys||function e(t){return r(t,i)}},130:function(e,t,n){var r=n(59);var i="__core-js_shared__";var a=r[i]||(r[i]={});e.exports=function(e){return a[e]||(a[e]={})}},131:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},137:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},140:function(e,t){t.f={}.propertyIsEnumerable},143:function(e,t,n){var r=n(110);e.exports=function(e){return Object(r(e))}},144:function(e,t,n){var r=n(82);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},153:function(e,t,n){var r=n(137);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},154:function(e,t,n){var r=n(82);var i=n(59).document;var a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},161:function(e,t){t.f=Object.getOwnPropertySymbols},165:function(e,t,n){e.exports=!n(69)&&!n(91)(function(){return 7!=Object.defineProperty(n(154)("div"),"a",{get:function(){return 7}}).a})},166:function(e,t,n){var r=n(76);var i=n(83);var a=n(214)(false);var o=n(118)("IE_PROTO");e.exports=function(e,t){var n=i(e);var s=0;var u=[];var l;for(l in n)l!=o&&r(n,l)&&u.push(l);while(t.length>s)r(n,l=t[s++])&&(~a(u,l)||u.push(l));return u}},169:function(e,t,n){var r=n(213);e.exports=function(e,t,n){r(e);if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},175:function(e,t,n){var r=n(111);var i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},213:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},214:function(e,t,n){var r=n(83);var i=n(175);var a=n(215);e.exports=function(e){return function(t,n,o){var s=r(t);var u=i(s.length);var l=a(o,u);var c;if(e&&n!=n)while(u>l){c=s[l++];if(c!=c)return true}else for(;u>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}}},215:function(e,t,n){var r=n(111);var i=Math.max;var a=Math.min;e.exports=function(e,t){e=r(e);return e<0?i(e+t,0):a(e,t)}},238:function(e,t,n){e.exports={default:n(264),__esModule:true}},2547:function(e,t,n){"use strict";n.r(t);var r=n(3);var i=n.n(r);(function(){TS.registerModule("web.invite",{onStart:function t(){r=true;window.dataLayer=window.dataLayer||[];window.onpopstate=function(e){e.state&&y(e.state.step,true)};n="restricted"===TS.web.invite.account_type||"ultra_restricted"===TS.web.invite.account_type;if(TS.web.invite.shared_invite_email){e="shared_invites";y("shared_invite_email");return}e=TS.web.invite.sso_required||TS.web.invite.sso_suggested&&TS.web.invite.domain_match?"sso":"whitelisted_domain"===TS.web.invite.invite_type?"whitelisted_domain":"admin_invites";if("sso"===e)return y("sso");TS.interop.telemeter.start();return y("credentials")}});var e;var t;var n;var r;var a;var o;var s;var u;var l;var c;var v;var f;var m;var d;var p;var b;var w=3;var h=0;var S="NEWXP_JOIN_TEAM";if(TS.boot_data.feature_zero_workspace_onboarding&&se())var T;if(TS.boot_data.feature_zero_workspace_onboarding&&se())var g=false;var y=function n(r,i){var a=le[r];a||TS.error("step not found");i||k(r);t=r;TS.interop.clog.track("GROWTH_JOIN_TEAM",{action:"enter_step",step:r,trigger:e,invite_id:TS.web.invite.invite_id});x({action:"impression"});if(TS.boot_data.feature_zero_workspace_onboarding&&"user_tos"!==r&&g&&se()){TS.interop.unmountTermsOfService(T);g=false}for(var o=arguments.length,s=Array(o>2?o-2:0),u=2;u<o;u++)s[u-2]=arguments[u];return a.apply(void 0,s).then(function(){$("#invite_form").attr("data-step",r);return Promise.resolve()}).catch(function(){})};var k=function e(t){if(!history||!history.pushState||!history.replaceState)return;if(r){r=false;history.replaceState({step:t},"","");return}history.pushState({step:t},"","")};var x=function n(r){var a={step:t,team_id:TS.web.invite.encoded_team_id,entry_point:e};"admin_invites"===e&&(a.invite_id=TS.web.invite.invite_id);var o=i()({},r,a);TS.interop.clog.track(S,{contexts:{ui_context:o}})};var P=function e(){TS.signup.suggestUsernameFromEmail(TS.web.invite.email).then(function(){var e=v||TS.web.invite.real_name_prefill;var t;var r=n;t=TS.templates.invite_consolidated_single_page_form({team_name:TS.web.invite.team_name,real_name:v||TS.web.invite.real_name_prefill,collect_guest_user_role:r,is_europe:TS.web.invite.is_europe});$("#invite_form").html(t);var i=$("#username_container");var a=$("#names_container");var o=$("#password_container");var s=$("#invite_password");var u=$("#invite_real_name");var l=$("#submit_btn");window.load_zxcvbn_script&&load_zxcvbn_script();l.on("click",function(){x({action:"click",is_primary_cta:true,ui_properties:{element_type:"button",element_name:"create_account\u200b"}})});TS.telemeter.measure("navigationStart","team_joiner_legacy_load");$("body").hasClass("mobile")||u.focus();u.val(u.val());e&&$("#submit_btn").toggleClass("disabled",false);E(a);E(i);z(o,{validate_immediately:true});l.on("click",function(e){e.preventDefault();TS.ui.startButtonSpinner(this);var t=u.val().trim();if(!t){Q();return false}var n=[{field:"real_name",text:t}];n.push({field:"display_name",text:t});var r=[ie(s,o),K(n)];Promise.all(r).then(function(e){e=Array.isArray(e)?e:Array.from(e);var t=e.filter(function(e){return e instanceof Error});if(t.length){Q();return Promise.reject(new Error("validation_failed"))}O();G()}).catch(function(e){Q();return e});return false})});return Promise.resolve()};var O=function e(){var t=$("#email_misc");var n;var r;var i="checkbox";if(TS.web.invite.is_europe){i="radio";var a=$("#email_misc_false");if(t.is(":checked")||a.is(":checked")){if(t.is(":checked")){n="email_sub_radio_button_selected";r=true}else if(a){n="email_unsub_radio_button_selected";r=false}}else{n="no_radio_button_selected";r=false}}else if(t.is(":checked")){n="email_sub_checkbox_checked";r=true}else{n="email_sub_checkbox_unchecked";r=false}var o={event_id:"GROWTH_JOIN_TEAM",step:"team_joiner_email_sub_pref",action:n};TS.interop.api_unauthed.callSlackApiUnauthed("signup.clogEmailSubscription",o,function(e,t){e||TS.error(t)});x({action:"click",ui_properties:{element_type:i,element_name:"email_subscribe",element_value:r}})};var j=function e(){var t=TS.templates.invite_sso_form({team_name:TS.web.invite.team_name,invite_code:TS.web.invite.invite_code,sso_required:TS.web.invite.sso_required,sso_suggested:TS.web.invite.sso_suggested,auth_mode:TS.web.invite.auth_mode,email_domain:TS.web.invite.email_domain,allowed_domains_count:TS.web.invite.allowed_domains_count,google_sso_domain:TS.web.invite.google_sso_domain,auth_url:TS.web.invite.auth_url,saml_provider_label:TS.web.invite.saml_provider_label,domain_match:TS.web.invite.domain_match,invite_sso_url:TS.boot_data.invite_sso_url,feature_org_modern_sso_preferences_page:TS.boot_data.feature_org_modern_sso_preferences_page});$("#invite_form").html(t);$("#no_sso_btn").on("click",function(){y("name")});return Promise.resolve()};var C=function e(){var t=c||TS.web.invite.username_prefill;var n=v||TS.web.invite.real_name_prefill;var r;r=TS.templates.invite_name_form({team_name:TS.web.invite.team_name,display_name_placeholder_prefill:TS.web.invite.real_name_prefill,real_name:v||TS.web.invite.real_name_prefill,uncheck_email:TS.web.invite.uncheck_email,custom_username_policy:TS.web.invite.username_policy});$("#invite_form").html(r);var i=$("#invite_username");var a=$("#invite_real_name");var s=$("#username_container");var u=$("#names_container");var l=$("#submit_btn");$("body").hasClass("mobile")||a.focus();a.val(a.val());t&&Z(i,s).then(function(){o||i.focus().val(i.val())}).catch(function(){});n&&$("#submit_btn").toggleClass("disabled",false);E(u);l.on("click",function(e){e.preventDefault();TS.ui.startButtonSpinner(this);var t=[{field:"real_name",text:a.val().trim()}];X(t);return false});return Promise.resolve()};var E=function e(t){t.on("focusout",function(){V()});t.on("input",function(){clearTimeout(u);u=setTimeout(function(){V()},1500)})};var A=function e(){var t=TS.templates.invite_password_form({team_name:TS.web.invite.team_name});$("#invite_form").html(t);window.load_zxcvbn_script&&load_zxcvbn_script();$(".fs_split_pane_left").scrollTop(0);var r=$("#invite_password");var i=$("#password_container");var a=$("#submit_btn");z(i);$("body").hasClass("mobile")||r.focus();a.on("click",function(e){e.preventDefault();TS.ui.startButtonSpinner(this);ie(r,i).then(function(){if(!l){a.addClass("disabled");TS.ui.stopButtonSpinner(a.get(0),false);return}if(n)return y("guest_user_role");y("user_tos");return Promise.resolve()}).catch(function(e){Q();return Promise.reject(e)});return false});return Promise.resolve()};var M=function e(){window.load_zxcvbn_script&&load_zxcvbn_script();var t=TS.templates.invite_guest_user_role_form({team_name:TS.web.invite.team_name});$("#invite_form").html(t);$(".fs_split_pane_left").scrollTop(0);var n=$("#invite_guest_user_role");var r=$("#guest_user_role_container");var i=$("#submit_btn");L(r);$("body").hasClass("mobile")||n.focus();i.on("click",function(e){e.preventDefault();TS.ui.startButtonSpinner(this);p=n.val().trim();if(!p){i.addClass("disabled");TS.ui.stopButtonSpinner(i.get(0),false);return false}y("user_tos");return false});return Promise.resolve()};var B=function e(){if(TS.boot_data.feature_zero_workspace_onboarding){Q();var t=$("#page");t.scrollTop(0);if(se()){T=document.getElementById("tos_root");$("#invite_form").html("");var n=oe();var r={safeAbsRootURL:TS.boot_data.abs_root_url,onSubmit:function e(){window.dataLayer.push({event:"AcknowledgeTOS"});G()},hasCustomTOS:n,onlyDisplayCard:true,featureZeroWorkspaceOnboarding:TS.boot_data.feature_zero_workspace_onboarding};n&&(r=i()({},r,{team:{name:TS.web.invite.team_name},enterprise:{name:TS.web.invite.enterprise_name},customTOSViewLink:TS.web.invite.tos_view_link,disablePrivacyAndCookiePolicy:TS.web.invite.disable_privacy_and_cookie_policy}));g=true;TS.interop.mountTermsOfService(TS.boot_data.team_id,T,r);return Promise.resolve()}var a=new Handlebars.SafeString(TS.templates.invite_user_tos_content({abs_root_url:TS.boot_data.abs_root_url}));var o={terms_of_service:a,abs_root_url:TS.boot_data.abs_root_url,has_custom_tos:l};var s=TS.templates.invite_tos_form(o);$("#invite_form").html(s);$(".fs_split_pane_left").scrollTop(0);$("#invite_form").find(".tos_contents").find("a").attr("target","_blank");var u=$("#submit_btn");$("body").hasClass("mobile")||u.focus();I();u.on("click",function(e){e.preventDefault();TS.ui.startButtonSpinner(this);window.dataLayer.push({event:"AcknowledgeTOS"});x({action:"click",is_primary_cta:true,ui_properties:{element_type:"button",element_name:"i_agree"}});G()});return Promise.resolve()}var l=oe();var c=l?new Handlebars.SafeString(TS.templates.invite_custom_tos_form({abs_root_url:TS.boot_data.abs_root_url,team_name:TS.web.invite.team_name,enterprise_name:TS.web.invite.enterprise_name,tos_view_link:TS.web.invite.tos_view_link})):new Handlebars.SafeString(TS.templates.invite_user_tos_content({abs_root_url:TS.boot_data.abs_root_url}));var _={terms_of_service:c,abs_root_url:TS.boot_data.abs_root_url,has_custom_tos:l};var v=TS.templates.invite_tos_form(_);$("#invite_form").html(v);$(".fs_split_pane_left").scrollTop(0);$("#invite_form").find(".tos_contents").find("a").attr("target","_blank");var f=$("#submit_btn");$("body").hasClass("mobile")||f.focus();I();f.on("click",function(e){e.preventDefault();TS.ui.startButtonSpinner(this);window.dataLayer.push({event:"AcknowledgeTOS"});x({action:"click",is_primary_cta:true,ui_properties:{element_type:"button",element_name:"i_agree"}});G()});return Promise.resolve()};var I=function e(){var t=$("#page");!bowser||bowser.msie||bowser.msedge||t.on("scroll",function(){$(".tos_i_agree_banner").css("bottom",-t.scrollTop())});t.scrollTop(0)};var z=function e(t,n){var r=t.find("input");r.on("input",function(){l=false;t.removeClass("error");V()});n&&n.validate_immediately&&r.on("focusout",function(){ie(r,t).then(function(){}).catch(function(e){Q();return Promise.reject(e)})})};var L=function e(t){var n=t.find("input");n.on("input",function(){t.removeClass("error");V()})};var N=function t(n,r){var i=TS.templates.invite_joiner_invites({current_users:r.current_users});$("#invite_form").html(i).attr("data-step","user_invite");var a=$("#invite_form_body");var o=a.find("#invite_rows");var s=$("#submit_btn");var u=w;_.times(u,function(){U(o)});var l=o.find("input");l.filter(function(){return""===this.value}).first().focus();W(o,s);a.find("#invite_rows").on("click",'[data-action="admin_invites_delete_row"]',function(){R(a,$(this).closest(".invite_row"))});a.find('[data-action="signup_add_invite"]').on("click",function(){U(o)});$("#secondary_btn").on("click",function(){TS.interop.clog.track("GROWTH_JOIN_TEAM",{action:"skip_sending_invites",step:"joiner_bulk_invite",trigger:e,invite_id:TS.web.invite.invite_id});x({action:"click",ui_properties:{element_type:"button\u200b",element_name:"skip_sending_invites\u200b"}});window.dataLayer.push({event:"SkipInvite"});window.location=n.url});s.on("click",function(e){e.preventDefault();TS.ui.startButtonSpinner(this);window.dataLayer.push({event:"SendInvite"});var t=true;o.find(".invite_row").each(function(){var e=$(this).find('[name="email_address"]').val().trim();if(e&&!TS.utility.email_regex.test(e)){t=false;return false}});var r=J();if(t)return H(r,"manual",n);TS.ui.stopButtonSpinner(s.get(0),false)});o.on("keydown","input",function(e){if(e.keyCode===TS.utility.keymap.enter){var t=o.find("input");var n=t.index($(e.currentTarget));var r=n+1;if(r<t.length){e.preventDefault();t.get(r).focus()}}});return Promise.resolve()};var U=function e(t){var n=$(TS.templates.create_invite_row());t.append(n);x({action:"click",ui_properties:{element_type:"button",element_name:"add_email_address\u200b"}});n.find("input").focus()};var R=function e(t,n){if(!n||!n.length)return;n.slideToggle(100,function(){n.remove();0===$(".invite_row").length&&U(t)})};var W=function e(t,n){t.find("input").each(function(){D($(this),n)});t.on("focusout","input",function(){D($(this),n)})};var D=function e(t,n){var r=t.val().trim();var i=t.closest(".invite_row");if(!r)return;if(!TS.utility.email_regex.test(r)){var a=TS.interop.i18n.t("Oops! That looks like an invalid email address!","team_creation")();i.addClass("error").find(".error_message").text(a);TS.utility.disableElement(n,true);h+=1;t.one("input remove",function(){i.removeClass("error");h-=1;h||TS.utility.disableElement(n,false)});return}i.find(".input_checkmark").removeClass("hidden");$(this).one("input",function(){i.find(".input_checkmark").addClass("hidden")})};var J=function e(){var t=[];$("#invite_form_body").find("#invite_rows").find(".invite_row").each(function(){var e=$(this).find('[name="email_address"]').val().trim();e&&t.push({email:e,type:"regular"})});return t};var H=function t(n,r,i){r=r||"manual";var a=false;var o=function e(t){if(a)return;a=true;window.location=t};if(!n.length){TS.interop.clog.track("GROWTH_JOIN_TEAM",{action:"skip_sending_invites",step:"joiner_bulk_invite",trigger:e,invite_id:TS.web.invite.invite_id});x({action:"click",num_of_invites:0,is_primary_cta:true,ui_properties:{element_type:"button",element_name:"send_invites"}});return o(i.url)}var s={token:i.api_token,invites:JSON.stringify(n),source:"joiner",mode:r};TS.interop.api_unauthed.callSlackApiUnauthed("users.admin.inviteBulk",s,function(e){if(e){o(i.url);x({action:"click",num_of_invites:n.length,is_primary_cta:true,ui_properties:{element_type:"button",element_name:"send_invites"}})}else{$("#invite_failed_alert").removeClass("hidden");setTimeout(o(i.url),5e3)}})};var F=function e(){var t=TS.templates.shared_invite_email_form({team_name:TS.web.invite.team_name,crumb_key:TS.web.invite.crumb_key});$("#invite_form").html(t);Ladda.bind("#submit_btn");var n=$("#submit_btn");n.on("click",function(){x({action:"click",is_primary_cta:true,ui_properties:{element_type:"button",element_name:"verify_email"}})});return Promise.resolve()};var G=function e(){if("whitelisted_domain"===TS.web.invite.invite_type)return q();var r=$("#submit_btn");var i=false;var o=function e(t){if(i)return;i=true;window.location=t};var s;var u;void 0==v&&(v="");void 0===f&&(f="");s=v;u=f;var l={code:TS.web.invite.invite_code,redir:TS.web.invite.redir||"",invite_type:TS.web.invite.invite_type,team:TS.web.invite.encoded_team_id,tz:TS.web.invite.tz,password:m,emailok:d,real_name:s,display_name:u,locale:TS.interop.i18n.locale};oe()?l.last_tos_acknowledged=TS.web.invite.disable_privacy_and_cookie_policy?"custom_tos_no_pp_cp":"custom_tos":l.last_tos_acknowledged="tos_mar2018";n&&p&&(l.title=p);TS.interop.api_unauthed.callSlackApiUnauthed("signup.createUser",l,function(e,n){a=null;if(e){var i={event:"AcceptedInvite",teamid:TS.web.invite.team_id,domain_type:n.domain_type,invite_type:TS.web.invite.invite_type};ue(i);var s={token:n.api_token};TS.interop.api_unauthed.callSlackApiUnauthed("signup.getInviteInfo",s,function(e,t){if(e&&true===t.allow_joiner_invites){$("#invite_form").html("");y("user_invite",false,n,t)}else setTimeout(function(){o(n.url)},2e3)});return}"embargoed_country"===n.error&&(window.location="/embargo");switch(n.error){case"invite_missing":a="invalid";break;case"invite_code_mismatch":a="invalid";break;case"invite_wrong_team":a="invalid";break;case"invite_already_accepted":a="accepted";break;case"invite_revoked":a="revoked";break;case"user_already_exists":a="accepted";break;case"error_failed":a="unknown";break;case"error_username_taken":if("password"===t){m="";y("name");return}$("#username").length&&$("#username_container").length&&Z($("#username"),$("#username_container"));break;case"ratelimited":$("#ratelimit_alert").removeClass("hidden");break;default:a="unknown";break}a&&y("error");TS.ui.stopButtonSpinner(r.get(0),false)})};var q=function e(){var t=$("#signup_whitelisted_domain_form");var n={event:"AcceptedInvite",invite_type:TS.web.invite.invite_type,domain_type:t.find("input[name=domain_type]").val()};ue(n);t.find("input[name=tz]").val(TS.web.invite.tz);t.find("input[name=password]").val(m);t.find("input[name=emailok]").val(d);t.find("input[name=real_name]").val(v);t.find("input[name=display_name]").val(f);t.find("input[name=locale]").val(TS.interop.i18n.locale);t.submit()};var V=function e(){var n;var r;var i;switch(t){case"name":r=$("#invite_real_name").val()||"";n=!r||false;break;case"password":i=$("#invite_password").val()||"";n=!TS.utility.password.hasValidSyntax(i)||$("#password_container").hasClass("error");break;case"guest_user_role":var a=$("#invite_guest_user_role").val().trim()||"";n=!a||!TS.ui.validation.validate($("#invite_guest_user_role"));break;case"credentials":r=$("#invite_real_name").val()||"";i=$("#invite_password").val()||"";n=!TS.utility.password.hasValidSyntax(i)||$("#password_container").hasClass("error")||!r;break;default:return}$("#submit_btn").toggleClass("disabled",n)};var Z=function e(t,n){var r=t.val().trim();return ee(n).then(function(){r=t.val().trim();return te(r,n)}).then(function(){V();o&&(c=r)}).catch(function(){})};var X=function e(t){var n=[];t.forEach(function(e){n.push(Y(e))});return Promise.all(n).then(function(){v=$("#invite_real_name").val().trim();f=$("#invite_real_name").val().trim();y("password");return Promise.resolve()}).catch(function(e){Q();return Promise.reject(e)})};var K=function e(t){var n=[];t.forEach(function(e){n.push(Y(e))});return Promise.all(n).then(function(e){e=Array.isArray(e)?e:Array.from(e);var t=e.filter(function(e){return e instanceof Error});if(t.length){Q();return Promise.reject(new Error("validation_failed"))}v=$("#invite_real_name").val().trim();f=$("#invite_real_name").val().trim();"other"===b&&(b=$("#other_current_role_input").val().trim());d=document.getElementById("email_misc").checked;return Promise.resolve(e)}).catch(function(e){Q();return e})};var Q=function e(){var t=$("#submit_btn");if(t.length){t.addClass("disabled");TS.ui.stopButtonSpinner(t.get(0),false)}};var Y=function e(t){return new Promise(function(e,n){TS.interop.api_unauthed.callSlackApiUnauthed("users.validateName",t,function(t,r,i){var a=i.field;if(!t){r.error=TS.ui.validation.maybeConvertNameErrorCode(r.error);var o=TS.ui.validation.getErrorMessage(r.error,{maxlength:80});var s=$("#invite_form_body");"real_name"===a?TS.ui.validation.showWarning(s.find('input[name="'+a+'"]'),o,{custom_for:"real_name_profile_field_warnings",should_truncate:false}):"display_name"===a&&TS.ui.validation.showWarning(s.find('input[name="'+a+'"]'),o,{custom_for:"display_name_profile_field_warnings",should_truncate:false});return n(new Error(r.error))}e(r)})}).catch(function(e){return Promise.reject(e)})};var ee=function e(t){t=t||$("");var n=t.find("input");var r=t.find(".input_overlay");if(s)return Promise.resolve();s=true;var i;var a;n.is(":focus")&&(a=TS.utility.contenteditable.cursorPosition(n).start);var o=n.val().trim();var u=o;var l={};var c=TS.web.invite.diacritics||{};var _="/["+Object.keys(c).join()+"]/g";l[_]=function(e){return c[e]};l["/[A-Z]/g"]=function(e){return e.toLowerCase()};var v;var f;var m;Object.keys(l).forEach(function(e){m=l[e];v=e.split("/");f=new RegExp(v[1],v[2]);if(f.test(o)){i=true;o=o.replace(f,m);u=u.replace(f,function(e){return'<span class="seafoam_green">'+m(e)+"</span>"})}});if(i){r.html(u).addClass("show");return new Promise(function(e){setTimeout(function(){n.val(o);r.val(u);r.removeClass("show");a&&n.setCursorPosition(a);setTimeout(function(){s=false;e()},500)},300)})}s=false;return Promise.resolve()};var te=function e(t){t=t||$("#invite_username").val().trim();if(!ne(t))return Promise.resolve();return re(t)};var ne=function e(t){t=t||$("#invite_username").val().trim();var n=$("#username_container");var r=n.find(".error_message");var i=TS.signup.checkUsernameSyntax(t);var a;if(!i.is_valid){r.html(i.error_message);n.addClass("error");a=i.error_message}if(a){r.html(i.error_message);n.addClass("error");o=false}return i.is_valid};var re=function e(t){t=t||$("#invite_username").val().trim();return TS.signup.checkUsernameAvailability(t,{team_id:TS.web.invite.team_id}).then(function(e){if(!e.is_valid){var t=$("#username_container");t.find(".error_message").html(e.error_message);t.addClass("error")}o=e.is_valid}).catch(function(e){return Promise.reject(e)})};var ie=function e(t,n){var r=t.val();var i=c||($("#invite_username").length?$("#invite_username").val():"");var a=TS.web.invite.email;n=n||$("");var o=n.find(".error_message");var s={username:i,email:a};return TS.utility.password.validate(r,s).then(function(e){if(!e.is_valid){n.addClass("error");o.html(e.error_message);x({action:"error",error_type:"invalid_password",ui_properties:{element_type:"textbox\u200b",element_name:"password"}});return new Promise(function(e,t){t(new Error("missing_password"))}).catch(function(e){Q();return e})}m=r;l=e.is_valid;return Promise.resolve(e)}).catch(function(e){Q();return Promise.reject(e)})};var ae=function e(){"revoked"!==a&&"accepted"!==a&&"invalid"!==a||(window.location=window.location);x({action:"error",error_type:a});return Promise.resolve()};var oe=function e(){return!!(TS.web.invite.tos_view_link&&TS.boot_data.feature_enterprise_custom_tos)};function se(){return!!TS.web.invite.enterprise_name}function ue(e){window.dataLayer=window.dataLayer||[];e&&window.dataLayer.push(e)}var le={shared_invite_email:F,name:C,password:A,sso:j,user_tos:B,guest_user_role:M,error:ae,credentials:P,user_invite:N}})()},264:function(e,t,n){n(265);e.exports=n(64).Object.assign},265:function(e,t,n){var r=n(105);r(r.S+r.F,"Object",{assign:n(266)})},266:function(e,t,n){"use strict";var r=n(121);var i=n(161);var a=n(140);var o=n(143);var s=n(153);var u=Object.assign;e.exports=!u||n(91)(function(){var e={};var t={};var n=Symbol();var r="abcdefghijklmnopqrst";e[n]=7;r.split("").forEach(function(e){t[e]=e});return 7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function e(t,n){var u=o(t);var l=arguments.length;var c=1;var _=i.f;var v=a.f;while(l>c){var f=s(arguments[c++]);var m=_?r(f).concat(_(f)):r(f);var d=m.length;var p=0;var b;while(d>p)v.call(f,b=m[p++])&&(u[b]=f[b])}return u}:u},3:function(e,t,n){"use strict";t.__esModule=true;var r=n(238);var i=a(r);function a(e){return e&&e.__esModule?e:{default:e}}t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},59:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},64:function(e,t){var n=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},69:function(e,t,n){e.exports=!n(91)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},75:function(e,t,n){var r=n(90);var i=n(165);var a=n(144);var o=Object.defineProperty;t.f=n(69)?Object.defineProperty:function e(t,n,s){r(t);n=a(n,true);r(s);if(i)try{return o(t,n,s)}catch(e){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");"value"in s&&(t[n]=s.value);return t}},76:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},80:function(e,t,n){var r=n(75);var i=n(102);e.exports=n(69)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){e[t]=n;return e}},82:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},83:function(e,t,n){var r=n(153);var i=n(110);e.exports=function(e){return r(i(e))}},90:function(e,t,n){var r=n(82);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},91:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return true}}}},[[2547,0]]]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"./src/components/post/PostByline.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),s=n.n(a),c=n("./node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(c),i=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),u=n.n(i),p=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),d=n.n(p),m=n("./node_modules/@babel/runtime/helpers/inherits.js"),f=n.n(m),v=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),b=n.n(v),g=n("./node_modules/graphql-tag/src/index.js"),h=n.n(g),E=n("./node_modules/react/index.js"),y=n("./node_modules/react-redux/es/index.js"),x=n("./src/components/format/Date.tsx"),O=n("./src/components/ui/Byline.tsx"),j=n("./src/components/user/UserAvatar.tsx"),C=n("./src/components/user/UserFollowButton.tsx"),w=n("./src/framework/design-system/components/index.ts"),k=n("./src/framework/design-system/components/Box.tsx"),_=n("./src/framework/design-system/type/index.ts"),I=n("./src/framework/source/index.ts"),L=n("./src/styles/breakpoints.ts"),P=n("./src/svg/star-15px.svg"),S=n("./src/svg/unlisted-19px.svg"),A=n("./src/util/numbers.ts"),R=n("./src/util/routes.ts");function D(){var e=o()(["\n  fragment PostByline_post on Post {\n    id\n    isPublished\n    mediumUrl\n    firstPublishedAt\n    readingTime\n    statusForCollection\n    isLocked\n    visibility\n    collection {\n      name\n      id\n      slug\n      ...collectionUrl_collection\n    }\n    creator {\n      name\n      username\n      id\n      bio\n      isFollowing\n      ...UserAvatar_user\n    }\n  }\n  ","\n  ","\n"]);return D=function(){return e},e}var M={XS:{showFollowButton:!1,avatarScale:"XS"},S:{showFollowButton:!1,avatarScale:"S"},M:{showFollowButton:!0,avatarScale:"M"}},N=function(e,t){return b()({marginBottom:e?"2px":"0px",display:"flex",alignItems:"center"},L.xs(t),{marginBottom:"0px"})},z=function(e){function t(){return s()(this,t),u()(this,d()(t).apply(this,arguments))}return f()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.currentLocation,n=e.post,r=e.showBio,o=e.scale,a=void 0===o?"M":o,s=e.showStar,c=void 0===s?n.isLocked:s,l=e.hideCollection,i=void 0!==l&&l,u=e.hideAvatar,p=void 0!==u&&u,d=n.id,m=n.creator,f=n.collection,v=n.statusForCollection,b=n.visibility,g=n.isPublished,h=M[a];if(!n||!d||!m)return null;var y=n.firstPublishedAt,L=m.username,D=m.name;if(!D||!L)return null;var z=E.createElement(j.d,{user:m,scale:h.avatarScale,link:!0}),T=r?E.createElement("div",null,m.bio):null,U="APPROVED"===v,V=h.showFollowButton?E.createElement(I.b,{source:{susiEntry:"follow_byline"}},E.createElement(k.a,{marginLeft:"8px",xs:{display:"none"},flexShrink:"0"},E.createElement(C.c,{user:m,buttonSize:"COMPACT"}))):null,B=E.createElement(w.K,null,(function(e){return E.createElement(w.M,null,(function(n){return E.createElement("div",{className:e(N(h.showFollowButton,n))},E.createElement(_.a,{scale:"M",tag:"span",color:"DARKER",clamp:1},E.createElement(w.u,{href:Object(R.cc)(L),inline:!0},D),f&&U&&!i?E.createElement("span",null," ","in"," ",E.createElement(w.u,{href:Object(R.E)(f,t),inline:!0},f.name)):null),V)}))})),F=E.createElement(_.a,{scale:"M",tag:"span",clamp:1},T,E.createElement("div",null,g?E.createElement(w.u,{href:Object(R.qb)(n),inline:!0},y&&E.createElement(x.a,{timestamp:y})):E.createElement("span",null,"Draft")," ","Â·"," ","UNLISTED"===b?E.createElement(_.a,{scale:"S",tag:"span"},E.createElement(S.a,null)," Unlisted"):E.createElement(E.Fragment,null,Object(A.f)(n.readingTime||0)," min read"),c&&E.createElement("span",{style:{paddingLeft:"4px"}},E.createElement(P.a,{style:{marginTop:"-2px"}}))));return E.createElement(O.a,{avatar:!p&&z,title:B,description:F})}}]),t}(E.Component),T=h()(D(),j.b,R.F);t.b=Object(y.c)((function(e){return{currentLocation:e.navigation.currentLocation}}))(z)},"./src/components/post/bookmark/BookmarkButton.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),s=n.n(a),c=n("./node_modules/graphql-tag/src/index.js"),l=n.n(c),i=n("./node_modules/react/index.js"),u=n.n(i),p=n("./src/components/post/bookmark/mutations.tsx"),d=n("./src/components/session/WithViewer.tsx"),m=n("./src/components/susi/SusiClickable.tsx"),f=n("./src/framework/design-system/components/index.ts"),v=n("./src/framework/reporter/index.ts"),b=n("./src/framework/source/index.ts"),g=n("./src/framework/style/index.ts"),h=n("./src/svg/bookmark-25px.svg"),E=n("./src/svg/bookmark-filled-25px.svg");function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var x=u.a.createElement("path",{d:"M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13c.2.18.52.17.71-.03a.5.5 0 0 0 .12-.29H19V6z"}),O=function(e){return u.a.createElement("svg",y({width:25,height:25,viewBox:"0 0 25 25"},e),x)},j=n("./src/util/routes.ts");function C(){var e=s()(["\n  fragment BookmarkButton_post on Post {\n    ...SusiClickable_post\n    ...WithSetReadingList_post\n  }\n  ","\n  ","\n"]);return C=function(){return e},e}n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return L}));var w=l()(C(),m.d,p.b),k=function(e){return{fill:e.baseColor.fill.light}};var _=function(e){return{fill:e.baseColor.border.light,cursor:"default"}},I=function(){var e=Object(g.useCx)();return i.createElement(O,{className:e(_)})};function L(e){var t=e.post,n=e.withTooltip,r=void 0===n||n,a=t.id,s=t.readingList,c=Object(g.useCx)(),l=Object(v.c)(),u=Object(b.d)(),y=i.useState(r),x=o()(y,2),O=x[0],C=x[1],w=i.useState(s),_=o()(w,2),L=_[0],P=_[1];i.useEffect((function(){P(s)}),[s]);var S=i.useCallback((function(e){if(s){var t={READING_LIST_NONE:"READING_LIST_QUEUE",READING_LIST_ARCHIVE:null,READING_LIST_QUEUE:"READING_LIST_NONE"}[s];t&&P(t),l.event(function(e){return{READING_LIST_NONE:"post.addedBookmark",READING_LIST_ARCHIVE:"post.addedArchive",READING_LIST_QUEUE:"post.removedBookmark"}[e]}(s),{postId:a,source:u}),e(t)().catch((function(){P(s)})),r&&C(!1)}}),[a,s,u,r]),A=i.useCallback((function(){r&&C(!0)}),[r]);return i.createElement(d.b,null,(function(e){return e?s?i.createElement("div",{className:c(k)},i.createElement(p.a,{post:t,viewer:e},(function(e){return i.createElement(f.I,{isVisible:O,darkTheme:!0,placement:"top",mouseLeaveDelay:0,targetDistance:10,popoverRenderFn:function(){return i.createElement(f.b,{padding:"8px"},{READING_LIST_NONE:"Save story",READING_LIST_ARCHIVE:"Archived",READING_LIST_QUEUE:"Unsave Story"}[s])},onMouseLeave:A},i.createElement(f.u,{onClick:function(){return S(e)}},(t=L,{READING_LIST_NONE:i.createElement(h.a,null),READING_LIST_ARCHIVE:i.createElement(I,null),READING_LIST_QUEUE:i.createElement(E.a,null)}[t])));var t}))):null:i.createElement(f.I,{isVisible:O,darkTheme:!0,placement:"top",mouseLeaveDelay:0,targetDistance:10,popoverRenderFn:function(){return i.createElement(f.b,{padding:"8px"},"Bookmark story")}},i.createElement(m.a,{post:t,operation:"register",susiEntry:"bookmark_sidebar",actionUrl:Object(j.n)(a)},i.createElement(h.a,null)))}))}},"./src/components/post/bookmark/index.ts":function(e,t,n){"use strict";var r=n("./src/components/post/bookmark/BookmarkButton.tsx");n.d(t,"a",(function(){return r.b})),n.d(t,"b",(function(){return r.a}))},"./src/components/post/bookmark/mutations.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return j}));var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),s=n.n(a),c=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),l=n("./node_modules/graphql-tag/src/index.js"),i=n.n(l),u=n("./src/schema-types/globalTypes.ts");function p(){var e=s()(["\n  fragment WithSetReadingList_post on Post {\n    ...ReadingList_post\n  }\n  ","\n"]);return p=function(){return e},e}function d(){var e=s()(["\n  mutation UnarchivePostDefault($targetPostId: ID!) {\n    unarchivePost(targetPostId: $targetPostId) {\n      ...ReadingList_post\n    }\n  }\n  ","\n"]);return d=function(){return e},e}function m(){var e=s()(["\n  mutation ArchivePostDefault($targetPostId: ID!) {\n    archivePost(targetPostId: $targetPostId) {\n      ...ReadingList_post\n    }\n  }\n  ","\n"]);return m=function(){return e},e}function f(){var e=s()(["\n  mutation UnbookmarkPostDefault($targetPostId: ID!) {\n    unbookmarkPost(targetPostId: $targetPostId) {\n      ...ReadingList_post\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function v(){var e=s()(["\n  mutation BookmarkPostDefault($targetPostId: ID!) {\n    bookmarkPost(targetPostId: $targetPostId) {\n      ...ReadingList_post\n    }\n  }\n  ","\n"]);return v=function(){return e},e}function b(){var e=s()(["\n  fragment ReadingList_post on Post {\n    __typename\n    id\n    readingList\n  }\n"]);return b=function(){return e},e}var g=i()(b()),h=i()(v(),g),E=i()(f(),g),y=i()(m(),g),x=i()(d(),g),O=i()(p(),g),j=function(e){var t=e.children,n=e.post,r=n.id,a=function(e){var t=Object(c.d)(h,{variables:{targetPostId:e},optimisticResponse:{bookmarkPost:{__typename:"Post",id:e,readingList:u.k.READING_LIST_QUEUE}}});return o()(t,1)[0]}(r),s=function(e){var t=Object(c.d)(E,{variables:{targetPostId:e},optimisticResponse:{unbookmarkPost:{__typename:"Post",id:e,readingList:u.k.READING_LIST_NONE}}});return o()(t,1)[0]}(r),l=function(e){var t=Object(c.d)(y,{variables:{targetPostId:e},optimisticResponse:{archivePost:{__typename:"Post",id:e,readingList:u.k.READING_LIST_ARCHIVE}}});return o()(t,1)[0]}(r),i=function(e){var t=Object(c.d)(x,{variables:{targetPostId:e},optimisticResponse:{unarchivePost:{__typename:"Post",id:e,readingList:u.k.READING_LIST_QUEUE}}});return o()(t,1)[0]}(r);if(!r)return null;return t((function(e){return function(){switch(n.readingList){case u.k.READING_LIST_NONE:if("READING_LIST_QUEUE"===e)return a();break;case u.k.READING_LIST_QUEUE:if("READING_LIST_NONE"===e)return s();if("READING_LIST_ARCHIVE"===e)return l();break;case u.k.READING_LIST_ARCHIVE:if(!e)return r;if("READING_LIST_NONE"===e)return s();if("READING_LIST_QUEUE"===e)return i()}throw new Error('Invalid reading list change from "'.concat(n.readingList||"unkown",'" to "').concat(e,'".'))}}))}},"./src/components/post/multivote/ClapMutation.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return y}));var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),s=n.n(a),c=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),l=n.n(c),i=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),u=n("./node_modules/graphql-tag/src/index.js"),p=n.n(u),d=n("./node_modules/react/index.js"),m=n("./src/components/post/multivote/MultiVoteCount.tsx");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(){var e=l()(["\n  mutation ClapMutation($targetPostId: ID!, $userId: ID!, $numClaps: Int!) {\n    clap(targetPostId: $targetPostId, userId: $userId, numClaps: $numClaps) {\n      ...ClapMutation_post\n    }\n  }\n  ","\n"]);return b=function(){return e},e}function g(){var e=l()(["\n  fragment ClapMutation_post on Post {\n    __typename\n    id\n    clapCount\n    viewerClapCount\n    ...MultiVoteCount_post\n  }\n  ","\n"]);return g=function(){return e},e}var h=p()(g(),m.b),E=p()(b(),h),y=function(){var e=Object(i.d)(E),t=s()(e,1)[0];return Object(d.useCallback)((function(e,n,r){return t({variables:{targetPostId:e.id,userId:n,numClaps:r},optimisticResponse:{clap:v({__typename:"Post"},e,{clapCount:e.clapCount+r,viewerClapCount:(e.viewerClapCount||0)+r})},update:function(t,n){var o,a=null==n||null===(o=n.data)||void 0===o?void 0:o.clap;if(a){var s=t.readFragment({id:"Post:".concat(a.id),fragment:h,fragmentName:"ClapMutation_post"});t.writeFragment({id:"Post:".concat(a.id),fragment:h,fragmentName:"ClapMutation_post",data:v({},s,{clapCount:e.clapCount+r,viewerClapCount:(e.viewerClapCount||0)+r})})}}})}),[])}},"./src/components/post/multivote/MultiVote.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),s=n.n(a),c=n("./node_modules/graphql-tag/src/index.js"),l=n.n(c),i=n("./node_modules/react/index.js"),u=n.n(i),p=n("./node_modules/react-redux/es/index.js"),d=n("./src/components/post/multivote/ClapMutation.tsx"),m=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),f=n.n(m),v=n("./src/framework/design-system/components/index.ts"),b=n("./src/framework/style/index.ts"),g=n("./src/styles/colors.ts"),h=n("./src/styles/mediaTypes.ts");function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var y={top:"0",left:"0",width:"60px",height:"60px"},x={top:"-2px",left:"0",width:"25px",height:"36px"},O=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({position:"absolute",pointerEvents:"none"},e?y:x)},j={"0%":{opacity:"0",transform:"scale(1)"},"32%":{opacity:"1"},"100%":{opacity:"0",transform:"scale(1.5)"}},C={"0%":{opacity:"0",transform:"scale(1)"},"32%":{opacity:"1",transform:"scale(1.3)"},"100%":{opacity:"0",transform:"scale(1.6)"}},w=function(e){return f()({animation:"370ms ease-out 1 ".concat(e)},Object(h.b)("reduce"),{animationDuration:"0.1ms"})},k=function(e){var t=e?30:13;return{position:"absolute",top:"".concat(48,"%"),left:"".concat(-5,"px"),transformOrigin:"".concat(t+2+3,"px"),width:"".concat(2,"px"),height:"".concat(2,"px"),borderRadius:"50%",backgroundColor:g.n}},_=function(e){var t=e?30:13;return{position:"absolute",top:"".concat(44,"%"),left:"".concat(-9,"px"),transformOrigin:"".concat(t+6+3,"px"),width:"0",height:"0",borderTop:"2px solid transparent",borderBottom:"2px solid transparent",borderLeft:"".concat(6,"px solid ").concat(g.h)}};function I(e){var t=e.isLarge,n=e.offset,r=e.onBurstEnd,o=Object(b.useCx)(),a=o(O(t));return i.createElement(v.L,{keyframes:{dotKeyframesName:j,triangleKeyframesName:C}},(function(e){for(var s=e.dotKeyframesName,c=e.triangleKeyframesName,l=[],u=[],p=0;p<5;p++){var d=72*p+n;l.push(i.createElement("div",{key:d,className:"".concat(o(k(t))),style:{transform:"rotate(".concat(d,"deg)")}})),u.push(i.createElement("div",{key:d,className:"".concat(o(_(t))),style:{transform:"rotate(".concat(d+13,"deg)")}}))}return i.createElement("div",{className:a},i.createElement("div",{className:"".concat(a," ").concat(o(w(s))),onAnimationEnd:function(){return r(n)}},l),i.createElement("div",{className:"".concat(a," ").concat(o(w(c)))},u))}))}var L=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),P=n.n(L),S=n("./node_modules/@babel/runtime/helpers/extends.js"),A=n.n(S),R=n("./src/styles/breakpoints.ts"),D=n("./src/svg/clap-25px.svg");function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var N=u.a.createElement("g",{fillRule:"evenodd"},u.a.createElement("path",{d:"M13.74 1l.76 2.97.76-2.97zM16.82 4.78l1.84-2.56-1.43-.47zM10.38 2.22l1.84 2.56-.41-3.03zM22.38 22.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M9.1 22.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L6.1 15.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L6.4 11.26l-1.18-1.18a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L11.96 14a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L8.43 9.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L20.63 15c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM13 6.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 23 23.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"})),z=function(e){return u.a.createElement("svg",M({width:29,height:29},e),N)};function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var U=u.a.createElement("path",{d:"M28.86 17.34l-3.64-6.4c-.3-.43-.71-.73-1.16-.8a1.12 1.12 0 0 0-.9.21c-.62.5-.73 1.18-.32 2.06l1.22 2.6 1.4 2.45c2.23 4.09 1.51 8-2.15 11.66a9.6 9.6 0 0 1-.8.71 6.53 6.53 0 0 0 4.3-2.1c3.82-3.82 3.57-7.87 2.05-10.39zm-6.25 11.08c3.35-3.35 4-6.78 1.98-10.47L21.2 12c-.3-.43-.71-.72-1.16-.8a1.12 1.12 0 0 0-.9.22c-.62.49-.74 1.18-.32 2.06l1.72 3.63a.5.5 0 0 1-.81.57l-8.91-8.9a1.33 1.33 0 0 0-1.89 1.88l5.3 5.3a.5.5 0 0 1-.71.7l-5.3-5.3-1.49-1.49c-.5-.5-1.38-.5-1.88 0a1.34 1.34 0 0 0 0 1.89l1.49 1.5 5.3 5.28a.5.5 0 0 1-.36.86.5.5 0 0 1-.36-.15l-5.29-5.29a1.34 1.34 0 0 0-1.88 0 1.34 1.34 0 0 0 0 1.89l2.23 2.23L9.3 21.4a.5.5 0 0 1-.36.85.5.5 0 0 1-.35-.14l-3.32-3.33a1.33 1.33 0 0 0-1.89 0 1.32 1.32 0 0 0-.39.95c0 .35.14.69.4.94l6.39 6.4c3.53 3.53 8.86 5.3 12.82 1.35zM12.73 9.26l5.68 5.68-.49-1.04c-.52-1.1-.43-2.13.22-2.89l-3.3-3.3a1.34 1.34 0 0 0-1.88 0 1.33 1.33 0 0 0-.4.94c0 .22.07.42.17.61zm14.79 19.18a7.46 7.46 0 0 1-6.41 2.31 7.92 7.92 0 0 1-3.67.9c-3.05 0-6.12-1.63-8.36-3.88l-6.4-6.4A2.31 2.31 0 0 1 2 19.72a2.33 2.33 0 0 1 1.92-2.3l-.87-.87a2.34 2.34 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.64l-.14-.14a2.34 2.34 0 0 1 0-3.3 2.39 2.39 0 0 1 3.3 0l.14.14a2.33 2.33 0 0 1 3.95-1.24l.09.09c.09-.42.29-.83.62-1.16a2.34 2.34 0 0 1 3.3 0l3.38 3.39a2.17 2.17 0 0 1 1.27-.17c.54.08 1.03.35 1.45.76.1-.55.41-1.03.9-1.42a2.12 2.12 0 0 1 1.67-.4 2.8 2.8 0 0 1 1.85 1.25l3.65 6.43c1.7 2.83 2.03 7.37-2.2 11.6zM13.22.48l-1.92.89 2.37 2.83-.45-3.72zm8.48.88L19.78.5l-.44 3.7 2.36-2.84zM16.5 3.3L15.48 0h2.04L16.5 3.3z",fillRule:"evenodd"}),V=function(e){return u.a.createElement("svg",T({width:33,height:33,viewBox:"0 0 33 33"},e),U)},B=n("./src/svg/clap-filled-25px.svg");function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var G=u.a.createElement("g",{fillRule:"evenodd"},u.a.createElement("path",{d:"M13.74 1l.76 2.97.76-2.97zM18.63 2.22l-1.43-.47-.4 3.03zM11.79 1.75l-1.43.47 1.84 2.56zM24.47 14.3L21.45 9c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M14.58 10.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z"}),u.a.createElement("path",{d:"M17.81 10.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.71.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L9.2 7.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L5.8 8.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L4.58 15.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z"})),H=function(e){return u.a.createElement("svg",F({width:29,height:29},e),G)};function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Q=u.a.createElement("g",{fillRule:"evenodd"},u.a.createElement("path",{d:"M29.58 17.1l-3.85-6.78c-.37-.54-.88-.9-1.44-.99a1.5 1.5 0 0 0-1.16.28c-.42.33-.65.74-.7 1.2v.01l3.63 6.37c2.46 4.5 1.67 8.8-2.33 12.8-.27.27-.54.5-.81.73a7.55 7.55 0 0 0 4.45-2.26c4.16-4.17 3.87-8.6 2.21-11.36zm-4.83.82l-3.58-6.3c-.3-.44-.73-.74-1.19-.81a1.1 1.1 0 0 0-.89.2c-.64.51-.75 1.2-.33 2.1l1.83 3.86a.6.6 0 0 1-.2.75.6.6 0 0 1-.77-.07l-9.44-9.44c-.51-.5-1.4-.5-1.9 0a1.33 1.33 0 0 0-.4.95c0 .36.14.7.4.95l5.6 5.61a.6.6 0 1 1-.84.85l-5.6-5.6-.01-.01-1.58-1.59a1.35 1.35 0 0 0-1.9 0 1.35 1.35 0 0 0 0 1.9l1.58 1.59 5.6 5.6a.6.6 0 0 1-.84.86L4.68 13.7c-.51-.51-1.4-.51-1.9 0a1.33 1.33 0 0 0-.4.95c0 .36.14.7.4.95l2.36 2.36 3.52 3.52a.6.6 0 0 1-.84.85l-3.53-3.52a1.34 1.34 0 0 0-.95-.4 1.34 1.34 0 0 0-.95 2.3l6.78 6.78c3.72 3.71 9.33 5.6 13.5 1.43 3.52-3.52 4.2-7.13 2.08-11.01zM11.82 7.72c.06-.32.21-.63.46-.89a1.74 1.74 0 0 1 2.4 0l3.23 3.24a2.87 2.87 0 0 0-.76 2.99l-5.33-5.33zM13.29.48l-1.92.88 2.37 2.84zM21.72 1.36L19.79.5l-.44 3.7zM16.5 3.3L15.48 0h2.04z"})),q=function(e){return u.a.createElement("svg",$({width:33,height:33},e),Q)};function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var W=u.a.createElement("path",{d:"M20.13 8.11l-5.61 5.61-5.6-5.61-.81.8 5.61 5.61-5.61 5.61.8.8 5.61-5.6 5.61 5.6.8-.8-5.6-5.6 5.6-5.62",fillRule:"evenodd"}),X=function(e){return u.a.createElement("svg",K({width:29,height:29},e),W)},Y=n("./src/util/hooks/useInterval.tsx"),J=n("./node_modules/exenv/index.js"),Z=n.n(J).a.canUseDOM?i.useLayoutEffect:i.useEffect,ee=n("./src/util/useragent.ts");function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re={S:i.createElement(D.a,null),M:i.createElement(z,null),L:i.createElement(V,null)},oe={S:i.createElement(B.a,null),M:i.createElement(H,null),L:i.createElement(q,null)},ae={"0%":{transform:"scale(1)",opacity:1},"70%":{transform:"scale(1.4)",opacity:0},"100%":{opacity:0}},se=function(e){return e?"accentColor":"baseColor"},ce={left:"0",height:"100%",position:"absolute",top:"0",width:"100%"},le=function(e){return function(t){var n;return n={backgroundColor:t.backgroundColor,border:"1px solid ".concat(t.baseColor.border.lighter),borderRadius:"50%",display:"flex",alignItems:"center",height:"60px",position:"relative",width:"60px"},f()(n,Object(h.b)("no-preference"),{transition:"border-color 150ms ease"}),f()(n,":hover",{borderColor:t[e].border.dark}),n}},ie=function(e){return{border:"1px solid ".concat(e.baseColor.border.dark)}},ue={transform:"translateX(-35px)"},pe=f()({transform:"translateX(0)"},Object(h.b)("no-preference"),{transition:"transform .2s ".concat("cubic-bezier(.25,0,.6,1.4)")}),de=f()({},":hover + .".concat("multi-vote-undo-revealed"),ue),me=function(e){var t;return t={},f()(t,R.sm(e),{display:"none"}),f()(t,"border","none"),f()(t,"cursor","pointer"),f()(t,"fill",e.baseColor.fill.lighter),f()(t,"left","4px"),f()(t,"outline","none"),f()(t,"padding","0"),f()(t,"position","absolute"),f()(t,"transition","transform .3s ".concat("cubic-bezier(.25,0,.6,1.4)"," 1s")),f()(t,":hover",ue),f()(t,":focus",{fill:e.baseColor.fill.dark}),f()(t,Object(h.b)("reduce"),{transitionDuration:"0.1ms !important"}),t},fe=function(e,t){return function(n){return f()({},Object(h.b)("no-preference"),{"::before":ne({background:"\n      radial-gradient(circle, ".concat(n[t].border.darker," 60%, transparent 70%)\n    "),borderRadius:"50%",content:'""',display:"block",zIndex:0},ce),":hover::before":{animation:"".concat(e," 2000ms infinite cubic-bezier(.1,.12,.25,1)")}})}},ve=function(e,t,n){var r,o;switch(e){case"accentColor":var a=n.accentColor.fill;r=a.dark,o=a.normal;break;default:var s=n.baseColor.fill;r=s.lighter,o=s.light}return{fill:o,":focus":{fill:t?o:r},":hover":{fill:t?o:r}}},be=function(e){return{opacity:.25,cursor:"not-allowed"}},ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return ne({padding:0,outline:0,border:0,userSelect:"none",cursor:"pointer","> svg":{pointerEvents:"none"},":active":{borderStyle:e?"solid":"none"}},t?de:null,{"-webkit-user-select":"none"})}},he=!1;function Ee(e){var t=e.callback,n=e.ms,r=void 0===n?300:n,o=e.callImmediately,a=void 0===o||o,c=i.useState(!1),l=s()(c,2),u=l[0],p=l[1];Object(Y.a)(t,u?r:null);var d=i.useCallback((function(e){"touchstart"===e.type&&(he=!0),("mousedown"!==e.type||!he&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator.userAgent;return 0===e.button&&!(Object(ee.a)(t)&&e.ctrlKey)}(e))&&(a&&t(),p(!0))})),m=i.useCallback((function(){p(!1)}));return Z((function(){if(u)return document.addEventListener("mouseup",m),function(){return document.removeEventListener("mouseup",m)}}),[u]),{onMouseDown:d,onTouchStart:d,onTouchEnd:m}}function ye(e){var t=e.pulseOnHover,n=void 0===t||t,r=e.isAccentColor,o=void 0!==r&&r,a=e.children,s=Object(b.useCx)(),c=se(o);return i.createElement(v.L,{keyframes:{pulseAnimation:ae}},(function(e){var t=e.pulseAnimation;return i.createElement("div",{className:s([le(c)].concat(n?fe(t,c):ie))},a)}))}function xe(e){var t=e.isSuppressed,n=e.onClick,r=Object(b.useCx)();return i.createElement("button",{className:"".concat(r([me].concat(t?pe:[]))).concat(t?"":" multi-vote-undo-revealed"),onClick:n},i.createElement(X,null))}function Oe(e){var t=e.canUndo,n=void 0!==t&&t,r=e.isCircle,o=void 0!==r&&r,a=e.isFilled,s=void 0!==a&&a,c=e.isDisabled,l=void 0!==c&&c,u=e.isUndoSuppressed,p=void 0!==u&&u,d=e.isAccentColor,m=void 0!==d&&d,v=e.scale,g=void 0===v?"L":v,E=e.onClickAndHold,y=e.onUndo,x=Object(b.useCx)(),O=se(m),j=o?function(e,t){return function(n){var r=ve(e,t,n);return ne({alignItems:"center",background:n.backgroundColor,borderRadius:"50%",display:"flex",justifyContent:"center",zIndex:2},ce,{},r,f()({},Object(h.b)("no-preference"),{transition:"fill ".concat(200,"ms ease")}))}}(O,l):function(e,t){return function(n){return ve(e,t,n)}}(O,l),C=Ee({callback:E,ms:200}),w=s||l?oe[g]:re[g];return E?i.createElement(i.Fragment,null,i.createElement("button",A()({className:x([ge(o,n),j])},C),w),n&&i.createElement(xe,{onClick:y,isSuppressed:p})):i.createElement("div",{className:x([ge(o),j].concat(P()(l?[be]:[])))},w)}function je(e){var t=e.canUndo,n=e.isCircle,r=e.isFilled,o=e.isUndoSuppressed,a=e.disableReason,s=e.isAccentColor,c=e.scale,l=e.onClickAndHold,u=e.onUndo,p={isFilled:r,scale:c},d={onClickAndHold:l,isAccentColor:s};return a?i.createElement(v.I,{darkTheme:!0,popoverRenderFn:function(){return i.createElement(v.b,{padding:"8px",whiteSpace:"nowrap"},a)},placement:"top",targetDistance:15},i.createElement(Oe,A()({isDisabled:!0},p))):n?i.createElement(ye,{pulseOnHover:!r,isAccentColor:s},i.createElement(Oe,A()({isCircle:!0,canUndo:t,isUndoSuppressed:o,onUndo:u},p,d))):i.createElement(Oe,A()({},p,d))}var Ce=n("./src/components/post/multivote/MultiVoteCount.tsx"),we={"0%":{transform:"matrix(0.97, 0, 0, 1, 0, 12)",opacity:"0"},"20%":{transform:"matrix(0.99, 0, 0, 1, 0, 2)",opacity:".7"},"40%":{transform:"matrix(1, 0, 0, 1, 0, -1)",opacity:"1"},"70%":{transform:"matrix(1, 0, 0, 1, 0, 0)",opacity:"1"},"100%":{transform:"matrix(1, 0, 0, 1, 0, 0)",opacity:"1"}},ke={"0%":{opacity:"1",transform:"translateY(0px)"},"10%":{opacity:"1",transform:"translateY(-3px)"},"100%":{opacity:"0",transform:"translateY(-50px)"}},_e={"0%":{transform:"scale(1)"},"15%":{transform:"scale(1.1)"},"100%":{transform:"scale(1)"}},Ie=function(e,t){return function(n){var r=t?"accentColor":"baseColor";return f()({backgroundColor:n[r].fill.normal,bottom:"FAR"===e?"85px":"39px",color:"#fff",borderRadius:"50%",fontSize:"15px",height:"35px",left:"FAR"===e?"12px":"-4px",lineHeight:"35px",position:"absolute",textAlign:"center",width:"35px"},Object(h.b)("reduce"),{animationDuration:"0.1ms !important"})}},Le=function(e,t){var n=e.current;n&&(n.style.animation=t,n.scrollTop)};function Pe(e){var t=e.clappedAt,n=e.count,r=e.isAccentColor,o=e.onFloatEnd,a=e.placement,c=Object(b.useCx)(),l=i.useState(t),u=s()(l,2),p=u[0],d=u[1],m=t!==p,f=i.useRef({enter:"",exit:"",pop:""}),g=i.useRef(null),h=i.useCallback((function(e){g.current=e,e&&Le(g,"".concat(f.current.enter," ").concat("400ms ease-out"))}),[]);function E(e){var t=f.current;e.animationName===t.enter||e.animationName===t.pop?Le(g,"".concat(t.exit," ").concat("400ms ease-out 500ms")):e.animationName===t.exit&&o()}return m&&(Le(g,""),Le(g,"".concat(f.current.pop," ").concat("500ms")),d(t)),i.createElement(v.L,{keyframes:{enter:we,exit:ke,pop:_e}},(function(e){return f.current=e,i.createElement("div",{ref:h,className:c([Ie(a,r)]),onAnimationEnd:E},"+".concat(n))}))}var Se={"0%":{transform:"scale(1)"},"50%":{transform:"scale(1.1)"},"100%":{transform:"scale(1)"}};function Ae(e){var t=e.isPopping,n=void 0!==t&&t,r=e.onPopEnd,o=e.children,a=Object(b.useCx)();return i.createElement(v.L,{keyframes:{popAnimation:Se}},(function(e){var t,s=e.popAnimation;return i.createElement("div",{className:n?a((t=s,f()({animation:"".concat(t," 500ms 1")},Object(h.b)("reduce"),{animationDuration:"0.1ms"}))):"",onAnimationEnd:r},o)}))}var Re=n("./src/components/session/useViewer.tsx"),De=n("./src/components/susi/SusiClickable.tsx"),Me=n("./src/framework/reporter/index.ts"),Ne=n("./src/framework/source/index.ts"),ze=n("./src/store/actions/multiVote.ts"),Te=n("./src/util/post/claps.ts"),Ue=n("./src/util/routes.ts");function Ve(){var e=o()(["\n  fragment MultiVote_post on Post {\n    id\n    clapCount\n    creator {\n      id\n      ...SusiClickable_user\n    }\n    viewerClapCount\n    isPublished\n    ...SusiClickable_post\n    collection {\n      id\n      slug\n    }\n    isLimitedState\n    ...MultiVoteCount_post\n  }\n  ","\n  ","\n  ","\n"]);return Ve=function(){return e},e}n.d(t,"b",(function(){return Ge})),n.d(t,"a",(function(){return He}));var Be={SUBTLE:"S",SUBTLE_PADDED:"M",OBVIOUS:"L"},Fe=function(e){var t,n=e.post,r=e.buttonStyle,o=e.hasDialog,a=e.isAccentColor,c=void 0===a?!!n.collection:a,l=Object(d.b)(),u=Object(Re.b)(),m=null!==(t=null==u?void 0:u.id)&&void 0!==t?t:"",f=Object(p.f)((function(e){return e.multiVote.clapsPerPost})),b=Object(p.e)(),g=i.useCallback((function(e){return b(Object(ze.d)(e))}),[b]),h=i.useCallback((function(e){return b(Object(ze.c)(e))}),[b]),E=i.useState(),y=s()(E,2),x=y[0],O=y[1],j=i.useState(0),C=s()(j,2),w=C[0],k=C[1],_=i.useState([]),L=s()(_,2),P=L[0],S=L[1],A=i.useState(!1),R=s()(A,2),D=R[0],M=R[1],N=i.useState(!1),z=s()(N,2),T=z[0],U=z[1],V=i.useState(0),B=s()(V,2),F=B[0],G=B[1],H=Object(Te.a)(f,n),$=H.clapCount,Q=H.viewerClapCount,q=H.viewerHasClappedSinceFetch,K=Object(Me.c)(),W=Object(Ne.d)();function X(e){S(P.filter((function(t){return t!==e})))}function Y(){l(n,m,w),k(0),K.event("post.clientUpvote",{postId:n.id,postIds:[n.id],voteCount:w,source:W})}i.useEffect((function(){if(x&&clearTimeout(x),0!==w){var e=setTimeout(Y,500);O(e)}else O(void 0)}),[w]),i.useEffect((function(){return function(){h({postId:n.id})}}),[]);var J,Z=n.collection,ee=n.creator,te=n.id,ne=n.isPublished,re=n.isLimitedState,oe=(J=!(!ee||ee.id!==m),re?"This feature is temporarily disabled.":ne?J?"You cannot applaud your own story.":void 0:"You cannot applaud a draft."),ae="OBVIOUS"===r,se=!!(Q&&Q>0),ce=!!($&&$>0),le=Be[r],ie=Z&&Z.slug?Object(Ue.Wb)(Z.slug,te):Object(Ue.Vb)(te);return i.createElement(v.b,{display:"flex",alignItems:"center"},i.createElement(v.b,{marginRight:ae&&!oe?"16px":"5px",position:"relative"},m||oe?i.createElement(i.Fragment,null,D&&i.createElement(Pe,{count:Q,clappedAt:F,placement:ae?"FAR":"NEAR",isAccentColor:c,onFloatEnd:function(){M(!1)}}),i.createElement(Ae,{isPopping:T,onPopEnd:function(){U(!1)}},i.createElement(je,{scale:le,canUndo:se,isAccentColor:c,isCircle:ae,isFilled:se,isUndoSuppressed:P.length>0,disableReason:oe,onClickAndHold:function(){for(var e=360*Math.random();-1!==P.indexOf(e);)e+=360;S(P.concat(e)),G(Date.now()),M(!0),U(!0),function(){if(Q&&Q>=50)return;g({postId:n.id,clapCount:$+1,viewerClapCount:Q+1,viewerHasClappedSinceFetch:!0}),k(w+1)}()},onUndo:function(){Q&&(l(n,m,-Q),g({postId:n.id,clapCount:$-Q,viewerClapCount:0,viewerHasClappedSinceFetch:!0}),k(0),K.event("post.clientUnvote",{postId:n.id,postIds:[n.id],unvoteCount:Q,source:W}))}})),P.map((function(e){return i.createElement(I,{key:e,isLarge:ae,offset:e,onBurstEnd:X})}))):i.createElement(De.a,{operation:"register",post:n,user:n.creator,actionUrl:ie},i.createElement(je,{isAccentColor:c,isCircle:ae,scale:le}))),ce&&!D&&i.createElement(v.b,{marginTop:"5px"},i.createElement(Ce.a,{shouldShowNetwork:ae,post:n,clapCount:$,showFullNumber:q,hasLabel:ae,hasDialog:o})))},Ge=l()(Ve(),De.d,De.f,Ce.b),He=function(e){var t;return i.createElement(Ne.b,{source:{postId:null===(t=e.post)||void 0===t?void 0:t.id},extendSource:!0},i.createElement(Fe,e))}},"./src/components/post/multivote/MultiVoteCount.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/graphql-tag/src/index.js"),s=n.n(a),c=n("./node_modules/pluralize/pluralize.js"),l=n.n(c),i=n("./node_modules/react/index.js"),u=n.n(i),p=n("./node_modules/@babel/runtime/helpers/extends.js"),d=n.n(p),m=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),f=n.n(m),v=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),b=n.n(v),g=n("./node_modules/@babel/runtime/regenerator/index.js"),h=n.n(g),E=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),y=n.n(E),x=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),O=n.n(x),j=n("./node_modules/lodash/merge.js"),C=n.n(j),w=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),k=n("./src/components/user/UserAvatar.tsx"),_=n("./src/components/user/UserFollowButton.tsx"),I=n("./src/framework/design-system/components/index.ts"),L=n("./src/framework/design-system/type/index.ts"),P=n("./src/framework/design-system/util/type/toRule.ts");function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var A=u.a.createElement("g",{fillRule:"evenodd"},u.a.createElement("path",{d:"M7.94 1h-.89L7.5 2.9zM10.09 1.33l-.84-.3-.23 1.95zM5.73 1.04l-.84.3L5.97 3zM5.63 11.57a3043.52 3043.52 0 0 0-1.6-1.6C2.32 8.26 1.25 7.5 1.75 7c.25-.25.62-.3.93 0 .45.46 1.54 1.65 1.54 1.65a.69.69 0 0 0 .34.2c.17.04.36-.06.5-.2.14-.13.06-.47-.06-.6L2.94 5.98c-.29-.29-.39-.78-.08-1.09.3-.29.64-.14.9.12l2.1 2.15a.33.33 0 0 0 .24.1.42.42 0 0 0 .26-.12c.13-.12.2-.36.07-.49L5 5.2c-.56-.56-.6-.95-.36-1.2.35-.35.82-.24 1.45.48l2.8 2.95-.59-1.46s-.37-.97 0-1.17c.37-.2.74.33 1 .72l1.37 2.62a3.29 3.29 0 0 1-.57 4.05c-1.22 1.22-3.18.69-4.48-.6z"}),u.a.createElement("path",{d:"M11.37 4.73c-.26-.4-.7-.4-.98-.19-.19.15-.16.48-.15.7l1.18 2.07c.91 1.49 1.23 2.7.19 4.1.31-.14.4-.27.58-.49.65-.8 1.05-2.47.39-3.88a3.35 3.35 0 0 0-.03-.05l-1.18-2.26z"})),R=function(e){return u.a.createElement("svg",S({width:15,height:15},e),A)},D=n("./src/util/routes.ts");function M(){var e=o()(["\n  query PostVotersDialogQuery($postId: ID!, $pagingOptions: PagingOptions) {\n    post(id: $postId) {\n      id\n      title\n      clapCount\n      voterCount\n      voters(paging: $pagingOptions) {\n        items {\n          user {\n            id\n            username\n            name\n            bio\n            ...UserAvatar_user\n            ...UserFollowButton_user\n          }\n          clapCount\n        }\n        pagingInfo {\n          next {\n            page\n          }\n        }\n      }\n      ...UserFollowButton_post\n    }\n  }\n  ","\n  ","\n  ","\n"]);return M=function(){return e},e}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var z=function(e){return{position:"relative",bottom:"12px",borderRadius:"10px",color:e.backgroundColor,fill:e.backgroundColor,background:e.accentColor.fill.normal,textAlign:"center"}},T=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({left:"20px",padding:"0 6px"},Object(P.a)((function(e){return{font:e.font.uiHeavy,fontSize:15,lineHeight:20}}))(e))},U={left:"24px",padding:"0 2px"},V=function(e){var t=e.clapCount,n=[z,t?T:U];return i.createElement(I.K,null,(function(e){return i.createElement("span",{className:e(n)},t?"+".concat(t):i.createElement(R,null))}))},B=function(e){var t=e.user,n=e.clapCount,r=e.post,o=t.username,a=t.name,s=t.bio,c=void 0===s?"":s;return a&&o?i.createElement(I.b,{padding:"12px 0"},i.createElement(I.b,{display:"flex",alignItems:"flex-start",justifyContent:"space-between"},i.createElement(I.b,{display:"flex",alignItems:"flex-start"},i.createElement(I.b,{marginRight:"20px"},i.createElement(k.d,{user:t,scale:"S"}),i.createElement(V,{clapCount:n})),i.createElement(I.b,{display:"flex",flexDirection:"column",alignItems:"flex-start"},i.createElement(I.u,{href:Object(D.cc)(o)},i.createElement(L.b,{scale:"XS"},a," ")),i.createElement(L.a,{scale:"S"},c))),i.createElement(I.b,{marginLeft:"48px"},i.createElement(_.c,{buttonSize:"SMALL",post:r,user:t})))):null},F=function(e){var t=e.isVisible,n=e.hide,r=e.post,o=e.fetchMore,a=i.useState(!1),s=y()(a,2),c=s[0],l=s[1],u=i.useCallback((function(){return h.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||c){e.next=8;break}return l(!0),e.prev=2,e.next=5,h.a.awrap(o());case 5:return e.prev=5,l(!1),e.finish(5);case 8:case"end":return e.stop()}}),null,null,[[2,,5,8]])}),[o,c,l]);if(!r)return null;var p=r.title,d=r.voters,m=r.clapCount,f=r.voterCount;return i.createElement(I.j,{isVisible:t,hide:n,withAnimation:!0},i.createElement(I.b,{maxWidth:"550px",sm:{paddingTop:"0"},paddingTop:"88px"},i.createElement(I.b,{display:"flex",flexDirection:"column",marginBottom:"24px",textAlign:"center"},i.createElement(L.b,{scale:"S"},m," claps from ",f," ",1===f?"person":"people",' for "',p,'"')),d&&d.items.map((function(e){var t=e.user,n=e.clapCount;return t&&i.createElement(B,{user:t,clapCount:n,post:r,key:t.id})})),o&&i.createElement(I.b,{display:"flex",flexDirection:"column",margin:"24px",alignItems:"center"},i.createElement(I.c,{buttonStyle:"SOCIAL",size:"SMALL",onClick:u},"Show more claps"))))};function G(e){var t=e.postId,n=e.isVisible,r=b()(e,["postId","isVisible"]);return n?i.createElement(w.b,{ssr:!1,query:H,variables:{postId:t,pagingOptions:{limit:10}}},(function(e){var t,o=e.data,a=(o=void 0===o?{}:o).post,s=e.loading,c=e.error,l=e.fetchMore;if(s)return i.createElement(I.v,null);if(c||!(null==a?void 0:a.voters))return null;var u=a.voters.pagingInfo&&a.voters.pagingInfo.next;if(u){var p={page:u.page};t=function(){return l({variables:{pagingOptions:p},updateQuery:function(e,t){var n,r,o,a,s,c,l=t.fetchMoreResult;return C()({},l,{post:{voters:{items:[].concat(f()(null!==(n=null==e||null===(r=e.post)||void 0===r||null===(o=r.voters)||void 0===o?void 0:o.items)&&void 0!==n?n:[]),f()(null!==(a=null==l||null===(s=l.post)||void 0===s||null===(c=s.voters)||void 0===c?void 0:c.items)&&void 0!==a?a:[]))}}})}})}}return i.createElement(F,d()({isVisible:n,post:a,loading:s,fetchMore:t},r))})):null}var H=s()(M(),k.b,_.b,_.a),$=n("./src/util/numbers.ts");function Q(){var e=o()(["\n  fragment PostVotersNetwork_post on Post {\n    voterCount\n    viewerClapCount\n    recommenders {\n      name\n    }\n  }\n"]);return Q=function(){return e},e}var q=function(e){var t=e.post,n=e.showVoters,r=(t.viewerClapCount?[{name:"you"}]:[]).concat(t.recommenders||[]).slice(0,2).map((function(e){return e.name}));if(!r.length)return null;var o=(t.voterCount||0)-r.length,a=r.join(o>0?", ":" and "),s="".concat(r.length>1?",":""," and"),c=l()("other",o),u=o>0?"".concat(s," ").concat(Object($.g)(o)," ").concat(c):"";return i.createElement(I.b,{sm:{display:"none"}},i.createElement(I.u,{onClick:n},i.createElement(L.a,{scale:"S"},"Applause from ".concat(a).concat(u))))},K=s()(Q()),W=n("./src/framework/design-system/components/util/VisibilityController.tsx"),X=n("./src/framework/design-system/type/Detail.tsx"),Y=n("./src/framework/style/index.ts");function J(){var e=o()(["\n  fragment MultiVoteCount_post on Post {\n    id\n    ...PostVotersNetwork_post\n  }\n  ","\n"]);return J=function(){return e},e}function Z(e){var t=e.clapCount,n=e.hasLabel,r=void 0!==n&&n,o=e.showFullNumber,a=void 0!==o&&o,s=e.post,c=e.shouldShowNetwork,u=e.hasDialog,p=void 0!==u&&u,d=s.id;if(!(t>0))return null;var m=r?l()("clap",t):"",f=function(e){var t=e.showVoters;return(c?i.createElement(q,{showVoters:t,post:s}):null)},v="".concat(a?Object($.g)(t):Object($.d)(t)," ").concat(m),b=function(e){var t=e.showVoters,n=Object(Y.useCx)();return i.createElement("div",{className:n((function(e){return{"& button":{textAlign:"left"}}}))},i.createElement(X.a,{color:r?"DARKER":"LIGHTER",scale:"M"},t?i.createElement(I.u,{onClick:t},v):v,i.createElement(f,{showVoters:t})))};return p&&d?i.createElement(W.a,null,(function(e){var t=e.isVisible,n=e.show,r=e.hide;return i.createElement(i.Fragment,null,i.createElement(b,{showVoters:n}),i.createElement(G,{isVisible:t,hide:r,postId:d}))})):i.createElement(b,null)}n.d(t,"a",(function(){return Z})),n.d(t,"b",(function(){return ee}));var ee=s()(J(),K)},"./src/svg/bookmark-25px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=o.a.createElement("path",{d:"M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z",fillRule:"evenodd"});t.a=function(e){return o.a.createElement("svg",a({width:25,height:25,viewBox:"0 0 25 25"},e),s)}},"./src/svg/bookmark-filled-25px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=o.a.createElement("path",{d:"M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13c.2.18.52.17.71-.03a.5.5 0 0 0 .12-.29H19V6z"});t.a=function(e){return o.a.createElement("svg",a({width:25,height:25,viewBox:"0 0 25 25"},e),s)}},"./src/svg/clap-25px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("path",{d:"M11.74 0l.76 2.97.76-2.97zM14.81 3.78l1.84-2.56-1.42-.47zM8.38 1.22l1.84 2.56L9.8.75zM20.38 21.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M7.1 21.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L4.1 14.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L4.4 10.26 3.22 9.08a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L9.96 13a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L6.43 8.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L18.63 14c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM11 5.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 21 22.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"}));t.a=function(e){return o.a.createElement("svg",a({width:25,height:25,viewBox:"0 0 25 25"},e),s)}},"./src/svg/clap-filled-25px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("path",{d:"M11.74 0l.76 2.97.76-2.97zM16.63 1.22L15.2.75l-.4 3.03zM9.79.75l-1.43.47 1.84 2.56zM22.47 13.3L19.45 8c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M12.58 9.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z"}),o.a.createElement("path",{d:"M15.81 9.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.72.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L7.2 6.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L3.8 7.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L2.58 14.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z"}));t.a=function(e){return o.a.createElement("svg",a({width:25,height:25},e),s)}},"./src/svg/unlisted-19px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("path",{d:"M4.13 12.21a15.4 15.4 0 0 1-2.54-2.28 6.61 6.61 0 0 1-.16-.2l-.25-.3.25-.3a13.08 13.08 0 0 1 .63-.7 15.4 15.4 0 0 1 1.7-1.51C5.55 5.54 7.5 4.7 9.51 4.7c.62 0 1.28.13 1.98.37l-.8.78a4.54 4.54 0 0 0-1.18-.18c-1.76 0-3.52.76-5.18 2.02-.58.45-1.12.93-1.58 1.41-.28.3-.28.36 0 .65a14.43 14.43 0 0 0 2.08 1.77l-.71.7zm3.05 1.57a6.32 6.32 0 0 0 4.61-.11c1-.38 2.04-.98 3.1-1.72a25.27 25.27 0 0 0 2.68-2.17l.37-.35-.37-.36a23.05 23.05 0 0 0-.76-.68 25.26 25.26 0 0 0-2.28-1.73l-.72.7a24.05 24.05 0 0 1 2.37 1.77c.2.17.2.42 0 .59-.57.49-1.2.97-1.84 1.43-1.01.7-2 1.26-2.9 1.61a5.4 5.4 0 0 1-1.92.42A6.6 6.6 0 0 1 8 13l-.81.78z"}),o.a.createElement("path",{d:"M12.05 9.06a2.68 2.68 0 0 1-2.7 3A2.74 2.74 0 0 1 9 12l3.06-2.96zM9.72 6.79a2.83 2.83 0 0 0-.37-.02 2.68 2.68 0 0 0-2.7 3l3.07-2.98zM3.6 14.3l-.35.34.68.7.35-.34 10.4-10.08.36-.34-.68-.7-.35.34z"}));t.a=function(e){return o.a.createElement("svg",a({width:19,height:19,viewBox:"0 0 19 19"},e),s)}},"./src/util/hooks/useInterval.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./node_modules/react/index.js");function o(e,t){var n=r.useRef(e);function o(){n.current&&n.current()}r.useEffect((function(){n.current=e}),[e]),r.useEffect((function(){if(null!==t){var e=setInterval(o,t);return function(){clearInterval(e)}}}),[t])}},"./src/util/post/claps.ts":function(e,t,n){"use strict";function r(e,t){return!!t&&e[t.id]||{clapCount:(null==t?void 0:t.clapCount)||0,viewerClapCount:(null==t?void 0:t.viewerClapCount)||0,viewerHasClappedSinceFetch:!1}}n.d(t,"a",(function(){return r}))}}]);
//# sourceMappingURL=Topic~UserProfile~YourStories.1e8ccad2.chunk.js.map
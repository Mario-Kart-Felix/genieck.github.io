(window.webpackJsonp=window.webpackJsonp||[]).push([["vendors~categoryPage~curatedHomepage~errorPage~experiments~featuredPermalinkPage~frontPage~permalink~52f86dd3"],{"0e7a":function(e,n,t){"use strict";t.r(n);var r=function(){return(r=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)};var o=function(){return(o=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)};function i(e,n,t,r){return new(t||(t=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new t(function(n){n(e.value)}).then(a,u)}s((r=r.apply(e,n||[])).next())})}function a(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var u,s=6e4;function c(e,n,t){var r=!t||void 0===t.leading||t.leading,o=!t||void 0===t.trailing||t.trailing,i=!1,a=!1;return function(){var t=this;i?a=!0:(r?e.apply(this):a=!0,i=!0,setTimeout(function(){o&&a&&e.apply(t),i=!1,a=!1},n))}}function f(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):(1e7+"-1000-4000-8000-100000000000").replace(/[018]/g,f)}function l(e){return 0!==e&&100*Math.random()<=e}function d(e){return+(1e6*e).toFixed(0)}function p(e){var n={};return Object.keys(e).forEach(function(t){var r;n[(r=t,r.replace(/[A-Z]/g,function(e,n){return(0!==n?"_":"")+e.toLowerCase()}).replace(/-/g,"_"))]=function e(n){if(Array.isArray(n))return n.map(function(n){return e(n)});if("object"==typeof n)return p(n);return n}(e[t])}),n}function m(){}function h(e,n,t){if(null==e)return JSON.stringify(e);var r=[!1,void 0];E(e)&&(r=[!0,e.toJSON],delete e.toJSON);var o,i=[!1,void 0];"object"==typeof e&&E(o=Object.getPrototypeOf(e))&&(i=[!0,o.toJSON],delete o.toJSON);try{return JSON.stringify(e,n,t)}finally{r[0]&&(e.toJSON=r[1]),i[0]&&(o.toJSON=i[1])}}function E(e){return"object"==typeof e&&null!==e&&e.hasOwnProperty("toJSON")}function v(e,n){return 0===e.indexOf(n)}function g(e,n){return-1!==e.indexOf(n)}function y(e){return"number"==typeof e&&e>=0&&e<=100}function b(e){return e-performance.timing.navigationStart}!function(e){e.XHR="xhr",e.BEACON="beacon",e.FETCH="fetch",e.CSS="css",e.JS="js",e.IMAGE="image",e.FONT="font",e.MEDIA="media",e.OTHER="other"}(u||(u={}));var R={isCollectingError:!0,maxErrorsByMinute:1e4,maxInternalMonitoringMessagesPerPage:15,resourceSampleRate:100,sampleRate:100,requestErrorResponseLengthLimit:32768,flushTimeout:3e4,maxBatchSize:50,maxMessageSize:262144,batchBytesLimit:16384};function T(e,n,t){var r="us"===n.datacenter?"com":"eu",o="production"===n.env?"datadoghq."+r:"datad0g."+r,i="version:"+n.version;return"https://"+e+"-http-intake.logs."+o+"/v1/input/"+n.clientToken+"?ddsource="+(t||"browser")+"&ddtags="+i}var w=t("UB+s"),C=t.n(w),S="?",O=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function _(e,n){return Object.prototype.hasOwnProperty.call(e,n)}var x=function(){var e,n,t,r,o,i,a=[];function u(e,n,t){var r;for(var o in a)if(_(a,o))try{a[o](e,n,t)}catch(e){r=e}if(r)throw r}function s(e,r,o,i,a){if(n)L.augmentStackTraceWithInitialElement(n,r,o,""+e),f();else if(a)u(L(a),!0,a);else{var s,c={url:r,column:i,line:o},l=e;if("[object String]"==={}.toString.call(e)){var d=l.match(O);d&&(s=d[1],l=d[2])}u({name:s,message:l,stack:[c]},!0)}return!!t&&t.apply(this,arguments)}function c(e){var n=e.reason||"Empty reason";u(L(n),!0,n)}function f(){var t=n,r=e;n=void 0,e=void 0,u(t,!1,r)}function l(t){if(n){if(e===t)return;f()}var r=L(t);throw n=r,e=t,setTimeout(function(){e===t&&f()},r.incomplete?2e3:0),t}return l.subscribe=function(e){r||(t=window.onerror,window.onerror=M(s),r=!0),i||(o=null!==window.onunhandledrejection?window.onunhandledrejection:void 0,window.onunhandledrejection=M(c),i=!0),a.push(e)},l.unsubscribe=function(e){for(var n=a.length-1;n>=0;n-=1)a[n]===e&&a.splice(n,1);0===a.length&&(r&&(window.onerror=t,r=!1),i&&(window.onunhandledrejection=o,i=!1))},l.traceKitWindowOnError=s,l}(),L=function(){var e=!1;function n(e){if(e.stack){for(var n,t,r,o,i=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,u=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,s=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,c=/\((\S*)(?::(\d+))(?::(\d+))\)/,f=e.stack.split("\n"),l=[],d=0,p=f.length;d<p;d+=1){if(i.exec(f[d])){var m=(r=i.exec(f[d]))[2]&&0===r[2].indexOf("native");n=r[2]&&0===r[2].indexOf("eval"),t=c.exec(r[2]),n&&t&&(r[2]=t[1],r[3]=t[2],r[4]=t[3]),o={args:m?[r[2]]:[],column:r[4]?+r[4]:void 0,func:r[1]||S,line:r[3]?+r[3]:void 0,url:m?void 0:r[2]}}else if(u.exec(f[d]))o={args:[],column:(r=u.exec(f[d]))[4]?+r[4]:void 0,func:r[1]||S,line:+r[3],url:r[2]};else{if(!a.exec(f[d]))continue;n=(r=a.exec(f[d]))[3]&&r[3].indexOf(" > eval")>-1,t=s.exec(r[3]),n&&t?(r[3]=t[1],r[4]=t[2],r[5]=void 0):0!==d||r[5]||void 0===e.columnNumber||(l[0].column=e.columnNumber+1),o={args:r[2]?r[2].split(","):[],column:r[5]?+r[5]:void 0,func:r[1]||S,line:r[4]?+r[4]:void 0,url:r[3]}}!o.func&&o.line&&(o.func=S),l.push(o)}if(l.length)return{stack:l,message:e.message,name:e.name}}}function t(e,n,t,r){var o={url:n,line:t?+t:void 0};if(o.url&&o.line){e.incomplete=!1;var i=e.stack;if(i.length>0&&i[0].url===o.url){if(i[0].line===o.line)return!1;if(!i[0].line&&i[0].func===o.func)return i[0].line=o.line,i[0].context=o.context,!1}return i.unshift(o),e.partial=!0,!0}return e.incomplete=!0,!1}function r(e,n){for(var o,i,a=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,u=[],s={},c=!1,f=r.caller;f&&!c;f=f.caller)f!==L&&f!==x&&(i={args:[],column:void 0,func:S,line:void 0,url:void 0},o=a.exec(f.toString()),f.name?i.func=f.name:o&&(i.func=o[1]),void 0===i.func&&(i.func=o?o.input.substring(0,o.input.indexOf("{")):void 0),s[""+f]?c=!0:s[""+f]=!0,u.push(i));n&&u.splice(0,n);var l={stack:u,message:e.message,name:e.name};return t(l,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),l}function o(t,o){var i,a=void 0===o?0:+o;try{if(i=function(e){var n=e.stacktrace;if(n){for(var t,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,o=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,i=n.split("\n"),a=[],u=0;u<i.length;u+=2){var s=void 0;r.exec(i[u])?s={args:[],column:void 0,func:(t=r.exec(i[u]))[3],line:+t[1],url:t[2]}:o.exec(i[u])&&(s={args:(t=o.exec(i[u]))[5]?t[5].split(","):[],column:+t[2],func:t[3]||t[4],line:+t[1],url:t[6]}),s&&(!s.func&&s.line&&(s.func=S),s.context=[i[u+1]],a.push(s))}if(a.length)return{stack:a,message:e.message,name:e.name}}}(t))return i}catch(n){if(e)throw n}try{if(i=n(t))return i}catch(n){if(e)throw n}try{if(i=function(e){var n=e.message.split("\n");if(!(n.length<4)){var t,r=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,o=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,i=/^\s*Line (\d+) of function script\s*$/i,a=[],u=window&&window.document&&window.document.getElementsByTagName("script"),s=[];for(var c in u)_(u,c)&&!u[c].src&&s.push(u[c]);for(var f=2;f<n.length;f+=2){var l=void 0;r.exec(n[f])?l={args:[],column:void 0,func:(t=r.exec(n[f]))[3],line:+t[1],url:t[2]}:o.exec(n[f])?l={args:[],column:void 0,func:(t=o.exec(n[f]))[4],line:+t[1],url:t[3]}:i.exec(n[f])&&(t=i.exec(n[f]),l={url:window.location.href.replace(/#.*$/,""),args:[],column:void 0,func:"",line:+t[1]}),l&&(l.func||(l.func=S),l.context=[n[f+1]],a.push(l))}if(a.length)return{stack:a,message:n[0],name:e.name}}}(t))return i}catch(n){if(e)throw n}try{if(i=r(t,a+1))return i}catch(n){if(e)throw n}return{message:t.message,name:t.name,stack:[]}}return o.augmentStackTraceWithInitialElement=t,o.computeStackTraceFromStackProp=n,o.ofCaller=function(e){var n=1+(void 0===e?0:+e);try{throw new Error}catch(e){return L(e,n+1)}},o}();var k,I=t("GX0+"),A=t.n(I),N=function(){function e(e,n){this.endpointUrl=e,this.bytesLimit=n}return e.prototype.send=function(e,n){if(navigator.sendBeacon&&n<this.bytesLimit&&navigator.sendBeacon(this.endpointUrl,e))return;var t=new XMLHttpRequest;t.open("POST",this.endpointUrl,!0),t.send(e)},e}(),U=function(){function e(e,n,t,r,o,i){this.request=e,this.maxSize=n,this.bytesLimit=t,this.maxMessageSize=r,this.flushTimeout=o,this.contextProvider=i,this.beforeFlushOnUnloadHandlers=[],this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0,this.flushOnVisibilityHidden(),this.flushPeriodically()}return e.prototype.add=function(e){this.addOrUpdate(e)},e.prototype.upsert=function(e,n){this.addOrUpdate(e,n)},e.prototype.beforeFlushOnUnload=function(e){this.beforeFlushOnUnloadHandlers.push(e)},e.prototype.flush=function(){if(0!==this.bufferMessageCount){var e=this.pushOnlyBuffer.concat((n=this.upsertBuffer,t=[],Object.keys(n).forEach(function(e){t.push(n[e])}),t));this.request.send(e.join("\n"),this.bufferBytesSize),this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0}var n,t},e.prototype.addOrUpdate=function(e,n){var t=this.process(e),r=t.processedMessage,o=t.messageBytesSize;o>=this.maxMessageSize?console.warn("Discarded a message whose size was bigger than the maximum allowed size "+this.maxMessageSize+"KB."):(this.hasMessageFor(n)&&this.remove(n),this.willReachedBytesLimitWith(o)&&this.flush(),this.push(r,o,n),this.isFull()&&this.flush())},e.prototype.process=function(e){var n=h(A()({},this.contextProvider(),e));return{processedMessage:n,messageBytesSize:this.sizeInBytes(n)}},e.prototype.push=function(e,n,t){this.bufferMessageCount>0&&(this.bufferBytesSize+=1),void 0!==t?this.upsertBuffer[t]=e:this.pushOnlyBuffer.push(e),this.bufferBytesSize+=n,this.bufferMessageCount+=1},e.prototype.remove=function(e){var n=this.upsertBuffer[e];delete this.upsertBuffer[e];var t=this.sizeInBytes(n);this.bufferBytesSize-=t,this.bufferMessageCount-=1,this.bufferMessageCount>0&&(this.bufferBytesSize-=1)},e.prototype.hasMessageFor=function(e){return void 0!==e&&void 0!==this.upsertBuffer[e]},e.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesSize+e+1>=this.bytesLimit},e.prototype.isFull=function(){return this.bufferMessageCount===this.maxSize||this.bufferBytesSize>=this.bytesLimit},e.prototype.sizeInBytes=function(e){return~-encodeURI(e).split(/%..|./).length},e.prototype.flushPeriodically=function(){var e=this;setTimeout(function(){e.flush(),e.flushPeriodically()},this.flushTimeout)},e.prototype.flushOnVisibilityHidden=function(){var e=this;navigator.sendBeacon&&(window.addEventListener("beforeunload",M(function(){e.beforeFlushOnUnloadHandlers.forEach(function(e){return e()})})),document.addEventListener("visibilitychange",M(function(){"hidden"===document.visibilityState&&e.flush()})),window.addEventListener("beforeunload",M(function(){return e.flush()})))},e}();!function(e){e.info="info",e.error="error"}(k||(k={}));var D={maxMessagesPerPage:0,sentMessageCount:0};function M(e){return function(){try{return e.apply(this,arguments)}catch(e){H(e);try{!function(e){F(o({},function(e){if(e instanceof Error){var n=L(e);return{error:{kind:n.name,stack:Q(n)},message:n.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught "+h(e)}}(e),{status:k.error}))}(e)}catch(e){H(e)}}}}function B(e){F({message:e,status:k.info})}function F(e){D.batch&&D.sentMessageCount<D.maxMessagesPerPage&&(D.sentMessageCount+=1,D.batch.add(e))}function P(e){D.debugMode=e}function H(e){D.debugMode&&console.warn("[INTERNAL ERROR]",e)}var z,j,W,K,G,q=function(){function e(){this.observers=[]}return e.prototype.subscribe=function(e){this.observers.push(e)},e.prototype.notify=function(e){this.observers.forEach(function(n){return n(e)})},e}();t("EEGd");function $(){return j||(function(e){var n=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=M(function(e,t){return this._datadog_xhr={method:e,url:t},n.apply(this,arguments)});var t=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(n){var r=this,o=performance.now();return this.addEventListener("loadend",M(function(){e.notify({startTime:o,duration:performance.now()-o,method:r._datadog_xhr.method,response:r.response,status:r.status,traceId:X(),type:z.XHR,url:J(r._datadog_xhr.url)})})),t.apply(this,arguments)}}(j=new q),function(e){if(!window.fetch)return;var n=window.fetch;window.fetch=M(function(t,r){var o=this,u=r&&r.method||"object"==typeof t&&t.method||"GET",s=performance.now(),c=function(n){return i(o,void 0,void 0,function(){var r,o,i,c;return a(this,function(a){switch(a.label){case 0:return r=performance.now()-s,o=J("object"==typeof t&&t.url||t),"stack"in n||n instanceof Error?(i=L(n),e.notify({duration:r,method:u,startTime:s,url:o,response:Q(i),status:0,traceId:X(),type:z.FETCH}),[3,3]):[3,1];case 1:return"status"in n?[4,n.clone().text()]:[3,3];case 2:c=a.sent(),e.notify({duration:r,method:u,startTime:s,url:o,response:c,responseType:n.type,status:n.status,traceId:X(),type:z.FETCH}),a.label=3;case 3:return[2]}})})},f=n.call(this,t,r);return f.then(M(c),M(c)),f})}(j)),j}function J(e){return new URL(e,window.location.origin).href}function X(){return"ddtrace"in window&&window.ddtrace.tracer.scope().active()?window.ddtrace.tracer.scope().active().context().toTraceId():void 0}function V(e){var n=new q;e.isCollectingError&&(!function(e,n,t){t.subscribe(function(t){(function(e){return 0===e.status&&"opaque"!==e.responseType}(t)||function(e){return e.status>=500}(t))&&n.notify({context:{error:{origin:W.NETWORK,stack:Z(t.response,e)||"Failed to load"},http:{method:t.method,status_code:t.status,url:t.url}},message:ee(t.type)+" error "+t.method+" "+t.url})})}(e,n,$()),function(e){K=console.error,console.error=M(function(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];K.apply(console,[n].concat(t)),e.notify({context:{error:{origin:W.CONSOLE}},message:["console error:",n].concat(t).map(Y).join(" ")})})}(n),function(e){G=function(n,t,r){e.notify(function(e,n){var t,r;void 0!==e.message||n instanceof Error?(t=e.message||"Empty message",r=Q(e)):(t="Uncaught "+h(n),r="No stack, consider using an instance of Error");return{message:t,context:{error:{stack:r,kind:e.name,origin:W.SOURCE}}}}(n,r))},x.subscribe(G)}(n));return function(e,n){var t=0,r=new q;return n.subscribe(function(n){t<e.maxErrorsByMinute?(t+=1,r.notify(n)):t===e.maxErrorsByMinute&&(t+=1,r.notify({context:{error:{origin:W.AGENT}},message:"Reached max number of errors by minute: "+e.maxErrorsByMinute}))}),setInterval(function(){return t=0},s),r}(e,n)}function Y(e){return"string"==typeof e?e:e instanceof Error?Q(L(e)):h(e,void 0,2)}function Q(e){var n=(e.name||"Error")+": "+e.message;return e.stack.forEach(function(e){var t="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"("+e.args.join(", ")+")":"",o=e.line?":"+e.line:"",i=e.line&&e.column?":"+e.column:"";n+="\n  at "+t+r+" @ "+e.url+o+i}),n}function Z(e,n){return e&&e.length>n.requestErrorResponseLengthLimit?e.substring(0,n.requestErrorResponseLengthLimit)+"...":e}function ee(e){return z.XHR===e?"XHR":"Fetch"}!function(e){e.FETCH="fetch",e.XHR="xhr"}(z||(z={})),function(e){e.AGENT="agent",e.CONSOLE="console",e.NETWORK="network",e.SOURCE="source",e.LOGGER="logger"}(W||(W={}));var ne=1e3;function te(e){var n,t,r=!1,o=function(){r=!0,window.clearTimeout(n),n=window.setTimeout(function(){r=!1},ne)};return{get:function(){return r?t:(t=oe(e),o(),t)},set:function(n,r){re(e,n,r),t=n,o()}}}function re(e,n,t){var r=new Date;r.setTime(r.getTime()+t);var o="expires="+r.toUTCString();document.cookie=e+"="+n+";"+o+";path=/"}function oe(e){var n=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return n?n.pop():void 0}function ie(e){console.warn("'"+e+"' not yet available, please call '.init()' first.")}function ae(e,n){var t=function(e,n){var t={clientToken:e.clientToken,datacenter:e.datacenter||n.datacenter,env:n.env,version:n.version},r=o({logsEndpoint:T("browser",t),rumEndpoint:T("rum",t),traceEndpoint:T("public-trace",t)},R);return e.internalMonitoringApiKey&&(r.internalMonitoringEndpoint=T("browser",t,"browser-agent-internal-monitoring")),"isCollectingError"in e&&(r.isCollectingError=!!e.isCollectingError),"sampleRate"in e&&(r.sampleRate=e.sampleRate),"resourceSampleRate"in e&&(r.resourceSampleRate=e.resourceSampleRate),"e2e-test"===t.env&&(void 0!==e.internalMonitoringEndpoint&&(r.internalMonitoringEndpoint=e.internalMonitoringEndpoint),void 0!==e.logsEndpoint&&(r.logsEndpoint=e.logsEndpoint),void 0!==e.rumEndpoint&&(r.rumEndpoint=e.rumEndpoint)),r}(e,n);return function(e){if(e.internalMonitoringEndpoint){var n=new U(new N(e.internalMonitoringEndpoint,e.batchBytesLimit),e.maxBatchSize,e.batchBytesLimit,e.maxMessageSize,e.flushTimeout,function(){return{date:(new Date).getTime(),view:{referrer:document.referrer,url:window.location.href}}});C()(D,{batch:n,maxMessagesPerPage:e.maxInternalMonitoringMessagesPerPage,sentMessageCount:0})}}(t),{configuration:t,errorObservable:V(t)}}function ue(){return function(){if(void 0===document.cookie||null===document.cookie)return!1;try{return re("dd_rum_test","test",1e3),"test"===oe("dd_rum_test")}catch(e){return console.error(e),!1}}()?"prerender"!==document.visibilityState&&"file:"!==window.location.protocol||(console.error("Execution is not allowed in the current context."),!1):(console.error("Cookies are not authorized, we will not send any data."),!1)}var se="_dd",ce=15*s,fe=[];function le(e,n){var t=te(se),r=te(e),o=new q,i=t.get(),a=c(function(){var e=n(r.get()),a=e.type,u=e.isTracked;r.set(a,ce),u&&(t.get()?t.set(t.get(),ce):t.set(f(),ce),i!==t.get()&&(i=t.get(),o.notify()))},ne);return a(),function(e){var n={capture:!0,passive:!0};["click","touchstart","keydown","scroll"].forEach(function(t){document.addEventListener(t,e,n),fe.push(function(){return document.removeEventListener(t,e,n)})})}(a),{getId:function(){return t.get()},getType:function(){return r.get()},renewObservable:o}}(function(){function e(e){var n=this;this.requests=[],this.pendingFetch=0,this.whenAllCompleteFn=m,e.subscribe(function(e){n.requests.push(e),n.pendingFetch-=1,0===n.pendingFetch&&setTimeout(function(){n.whenAllCompleteFn(n.requests)})})}e.prototype.whenAllComplete=function(e){this.whenAllCompleteFn=e},e.prototype.getStub=function(){var e=this;return function(){var n,t;e.pendingFetch+=1;var r=new Promise(function(e,r){n=e,t=r});return r.resolveWith=function(t){return i(e,void 0,void 0,function(){var e=this;return a(this,function(r){return[2,n(o({},t,{clone:function(){return{text:function(){return i(e,void 0,void 0,function(){return a(this,function(e){return[2,t.responseText]})})}}}}))]})})},r.rejectWith=function(n){return i(e,void 0,void 0,function(){return a(this,function(e){return[2,t(n)]})})},r}}})(),function(){function e(){}e.prototype.fakeEntry=function(e,n){var t=function(){return[e]};this.instance.callback({getEntries:t,getEntriesByName:t,getEntriesByType:function(e){return e===n?t():[]}})},e.prototype.getStub=function(){var e,n=this;return(e=function(){function e(e){this.callback=e,n.instance=this}return e.prototype.observe=function(e){},e}()).supportedEntryTypes=["navigation"],e}}();var de,pe={datacenter:"us",env:"production",version:"1.2.7"};!function(e){e[e.ERROR_COLLECTED=0]="ERROR_COLLECTED",e[e.PERFORMANCE_ENTRY_COLLECTED=1]="PERFORMANCE_ENTRY_COLLECTED",e[e.USER_ACTION_COLLECTED=2]="USER_ACTION_COLLECTED",e[e.REQUEST_COLLECTED=3]="REQUEST_COLLECTED",e[e.SESSION_RENEWED=4]="SESSION_RENEWED",e[e.RESOURCE_ADDED_TO_BATCH=5]="RESOURCE_ADDED_TO_BATCH"}(de||(de={}));var me=function(){function e(){this.callbacks={}}return e.prototype.notify=function(e,n){var t=this.callbacks[e];t&&t.forEach(function(e){return e(n)})},e.prototype.subscribe=function(e,n){var t=this.callbacks[e];t?t.push(n):this.callbacks[e]=[n]},e}();function he(){return void 0!==window.performance&&"getEntries"in performance}function Ee(e,n){(he()&&ve(n,e,performance.getEntries()),window.PerformanceObserver)&&(new PerformanceObserver(M(function(t){return ve(n,e,t.getEntries())})).observe({entryTypes:["resource","navigation","paint","longtask"]}),he()&&"addEventListener"in performance&&performance.addEventListener("resourcetimingbufferfull",function(){performance.clearResourceTimings()}));window.PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("navigation")||function(e){function n(){var n={domComplete:b(performance.timing.domComplete),domContentLoadedEventEnd:b(performance.timing.domContentLoadedEventEnd),domInteractive:b(performance.timing.domInteractive),entryType:"navigation",loadEventEnd:b(performance.timing.loadEventEnd)};e(n)}if("complete"===document.readyState)n();else{var t=function(){window.removeEventListener("load",t),setTimeout(M(n))};window.addEventListener("load",t)}}(function(t){ve(n,e,[t])})}function ve(e,n,t){function r(e){n.notify(de.PERFORMANCE_ENTRY_COLLECTED,e)}e.isTrackedWithResource()&&t.filter(function(e){return"resource"===e.entryType}).forEach(r),t.filter(function(e){return"navigation"===e.entryType}).filter(function(e){return e.loadEventEnd>0}).forEach(r),t.filter(function(e){return"paint"===e.entryType}).forEach(r),t.filter(function(e){return"longtask"===e.entryType}).forEach(r)}function ge(e){if(performance&&"getEntriesByName"in performance){var n,t=performance.getEntriesByName(e.url,"resource").filter(function(n){return t=n,r=e.startTime,o=ye(e),t.startTime>=r&&ye(t)<=o;var t,r,o});return 1===t.length?t[0]:2===t.length&&ye((n=t)[0])<=n[1].startTime?t[1]:void 0}}function ye(e){return e.startTime+e.duration}var be,Re=[[u.XHR,function(e){return"xmlhttprequest"===e}],[u.FETCH,function(e){return"fetch"===e}],[u.BEACON,function(e){return"beacon"===e}],[u.CSS,function(e,n){return null!==n.match(/\.css$/i)}],[u.JS,function(e,n){return null!==n.match(/\.js$/i)}],[u.IMAGE,function(e,n){return g(["image","img","icon"],e)||null!==n.match(/\.(gif|jpg|jpeg|tiff|png|svg)$/i)}],[u.FONT,function(e,n){return null!==n.match(/\.(woff|eot|woff2|ttf)$/i)}],[u.MEDIA,function(e,n){return g(["audio","video"],e)||null!==n.match(/\.(mp3|mp4)$/i)}]];function Te(e){if(e&&Ce(e))return{connect:{duration:d(e.connectEnd-e.connectStart),start:d(e.connectStart)},dns:{duration:d(e.domainLookupEnd-e.domainLookupStart),start:d(e.domainLookupStart)},download:{duration:d(e.responseEnd-e.responseStart),start:d(e.responseStart)},firstByte:{duration:d(e.responseStart-e.requestStart),start:d(e.requestStart)},redirect:e.redirectStart>0?{duration:d(e.redirectEnd-e.redirectStart),start:d(e.redirectStart)}:void 0,ssl:e.secureConnectionStart>0?{duration:d(e.connectEnd-e.secureConnectionStart),start:d(e.secureConnectionStart)}:void 0}}function we(e){return e&&Ce(e)?e.decodedBodySize:void 0}function Ce(e){return e.responseStart>0}function Se(e,n){return e&&!function(e,n){return v(e,n.logsEndpoint)||v(e,n.rumEndpoint)||v(e,n.traceEndpoint)||n.internalMonitoringEndpoint&&v(e,n.internalMonitoringEndpoint)}(e,n)}var Oe,_e,xe,Le,ke,Ie=3e3;function Ae(e,n,t,o,i){var a=c(M(function(){return Ue(o)}),Ie,{leading:!1});Ne(e,t,o),function(e,n,t){var r=history.pushState;history.pushState=M(function(){r.apply(this,arguments),Me(e,n,t)});var o=history.replaceState;history.replaceState=M(function(){o.apply(this,arguments),Me(e,n,t)}),window.addEventListener("popstate",function(){Me(e,n,t)})}(e,t,o),function(e,n){e.subscribe(de.PERFORMANCE_ENTRY_COLLECTED,function(e){if("navigation"===e.entryType){var t=e;!function(e){e.loadEventEnd>864e5&&B("Got an abnormal load event in a PerformanceNavigationTiming entry!\nSession Id: "+be.sessionId+"\nView Id: "+be.id+"\nView start date: "+Oe+"\nDocument Version: "+xe+"\nEntry: "+JSON.stringify(e)+"\nPrevious measures: "+JSON.stringify(Le))}(t),Le=r({},Le,{domComplete:d(t.domComplete),domContentLoaded:d(t.domContentLoadedEventEnd),domInteractive:d(t.domInteractive),loadEventEnd:d(t.loadEventEnd)}),n()}else if("paint"===e.entryType&&"first-contentful-paint"===e.name){var o=e;Le=r({},Le,{firstContentfulPaint:d(o.startTime)}),n()}}),e.subscribe(de.ERROR_COLLECTED,function(){Le.errorCount+=1,n()}),e.subscribe(de.USER_ACTION_COLLECTED,function(){Le.userActionCount+=1,n()}),e.subscribe(de.PERFORMANCE_ENTRY_COLLECTED,function(e){"longtask"===e.entryType&&(Le.longTaskCount+=1,n())}),e.subscribe(de.RESOURCE_ADDED_TO_BATCH,function(){Le.resourceCount+=1,n()})}(n,a),function(e,n,t,r){n.subscribe(de.SESSION_RENEWED,function(){Ue(r),Ne(e,t,r)})}(e,n,t,o),i(function(){return Ue(o)})}function Ne(e,n,t){be={id:f(),location:r({},e),sessionId:n.getId()},Oe=(new Date).getTime(),_e=performance.now(),xe=1,Le={errorCount:0,longTaskCount:0,resourceCount:0,userActionCount:0},De(t)}function Ue(e){xe+=1,De(e)}function De(e){e({date:Oe,duration:d(performance.now()-_e),evt:{category:ke.VIEW},rum:{documentVersion:xe},view:{measures:Le}},be.id)}function Me(e,n,t){var r,o;r=be.location,o=e,r.pathname!==o.pathname&&(Ue(t),Ne(e,n,t))}function Be(e,n,t,o){var i={},a=function(e,n,t,r){var o=new U(new N(e.rumEndpoint,e.batchBytesLimit),e.maxBatchSize,e.batchBytesLimit,e.maxMessageSize,e.flushTimeout,function(){return A()(p(t()),r())});return{addRumEvent:function(e){n.isTracked()&&o.add(p(e))},addUserEvent:function(e){n.isTracked()&&o.add(e)},beforeFlushOnUnload:function(e){return o.beforeFlushOnUnload(e)},upsertRumEvent:function(e,t){n.isTracked()&&o.upsert(p(e),t)}}}(t,o,function(){return{applicationId:e,date:(new Date).getTime(),sessionId:be.sessionId,view:{id:be.id,referrer:document.referrer,url:be.location.href}}},function(){return i});return Ae(window.location,n,o,a.upsertRumEvent,a.beforeFlushOnUnload),function(e,n){e.subscribe(de.ERROR_COLLECTED,function(e){var t=e.message,o=e.context;n(r({message:t,evt:{category:ke.ERROR}},o))})}(n,a.addRumEvent),function(e,n,t,r){n.subscribe(de.REQUEST_COLLECTED,function(o){if(t.isTrackedWithResource()&&Se(o.url,e)){var i=ge(o),a=o.type===z.XHR?u.XHR:u.FETCH;r({duration:d(i?i.duration:o.duration),evt:{category:ke.RESOURCE},http:{method:o.method,performance:Te(i),statusCode:o.status,url:o.url},network:{bytesWritten:we(i)},resource:{kind:a},traceId:o.traceId}),n.notify(de.RESOURCE_ADDED_TO_BATCH)}})}(t,n,o,a.addRumEvent),function(e,n,t){n.subscribe(de.PERFORMANCE_ENTRY_COLLECTED,function(r){switch(r.entryType){case"resource":!function(e,n,t,r){if(!Se(n.name,e))return;var o=function(e){var n;try{n=new URL(e.name)}catch(n){B('Failed to construct URL for "'+e.name+'"')}if(void 0!==n)for(var t=n.pathname,r=0,o=Re;r<o.length;r++){var i=o[r],a=i[0];if((0,i[1])(e.initiatorType,t))return a}return u.OTHER}(n);if(g([u.XHR,u.FETCH],o))return;t({duration:d(n.duration),evt:{category:ke.RESOURCE},http:{performance:Te(n),url:n.name},network:{bytesWritten:we(n)},resource:{kind:o}}),r.notify(de.RESOURCE_ADDED_TO_BATCH)}(e,r,t,n);break;case"longtask":!function(e,n){n({duration:d(e.duration),evt:{category:ke.LONG_TASK}})}(r,t)}})}(t,n,a.addRumEvent),function(e,n){e.subscribe(de.USER_ACTION_COLLECTED,function(e){var t=e.name,o=e.context;n(r({},o,{evt:{name:t,category:ke.USER_ACTION}}))})}(n,a.addUserEvent),{addRumGlobalContext:M(function(e,n){i[e]=n}),addUserAction:M(function(e,t){n.notify(de.USER_ACTION_COLLECTED,{name:e,context:t})}),getInternalContext:M(function(){return{application_id:e,session_id:be.sessionId,view:{id:be.id}}}),setRumGlobalContext:M(function(e){i=e})}}!function(e){e.USER_ACTION="user_action",e.ERROR="error",e.LONG_TASK="long_task",e.VIEW="view",e.RESOURCE="resource"}(ke||(ke={}));var Fe,Pe="_dd_r";function He(e,n){var t=le(Pe,function(n){return function(e,n){var t;r=n,t=r===Fe.NOT_TRACKED||r===Fe.TRACKED_WITH_RESOURCES||r===Fe.TRACKED_WITHOUT_RESOURCES?n:l(e.sampleRate)?l(e.resourceSampleRate)?Fe.TRACKED_WITH_RESOURCES:Fe.TRACKED_WITHOUT_RESOURCES:Fe.NOT_TRACKED;var r;return{isTracked:ze(t),type:t}}(e,n)});return t.renewObservable.subscribe(function(){n.notify(de.SESSION_RENEWED)}),{getId:t.getId,isTracked:function(){return ze(t.getType())},isTrackedWithResource:function(){return t.getType()===Fe.TRACKED_WITH_RESOURCES}}}function ze(e){return e===Fe.TRACKED_WITH_RESOURCES||e===Fe.TRACKED_WITHOUT_RESOURCES}!function(e){e.NOT_TRACKED="0",e.TRACKED_WITH_RESOURCES="1",e.TRACKED_WITHOUT_RESOURCES="2"}(Fe||(Fe={}));var je,We=(je=o({},{init:function(e){ie("core.init")},addRumGlobalContext:function(e,n){ie("addRumGlobalContext")},setRumGlobalContext:function(e){ie("setRumGlobalContext")},addUserAction:function(e,n){ie("addUserAction")},getInternalContext:function(){ie("getInternalContext")}}),Object.defineProperty(je,"_setDebug",{get:function(){return P},enumerable:!1}),je),Ke=!1;We.init=M(function(e){if(ue()&&function(e){if(Ke)return console.error("DD_RUM is already initialized."),!1;if(!e||!e.clientToken&&!e.publicApiKey)return console.error("Client Token is not configured, we will not send any data."),!1;if(!e.applicationId)return console.error("Application ID is not configured, no RUM data will be collected."),!1;if(void 0!==e.sampleRate&&!y(e.sampleRate))return console.error("Sample Rate should be a number between 0 and 100"),!1;if(void 0!==e.resourceSampleRate&&!y(e.resourceSampleRate))return console.error("Resource Sample Rate should be a number between 0 and 100"),!1;return!0}(e)){e.publicApiKey&&(e.clientToken=e.publicApiKey);var n=r({},e,{isCollectingError:!0}),t=new me,o=ae(n,pe),i=o.errorObservable,a=o.configuration,u=He(a,t),s=$();Ee(t,u),i.subscribe(function(e){return t.notify(de.ERROR_COLLECTED,e)}),s.subscribe(function(e){return t.notify(de.REQUEST_COLLECTED,e)});var c=Be(n.applicationId,t,a,u);C()(We,c),Ke=!0}}),window.DD_RUM=We,t.d(n,"datadogRum",function(){return We}),t.d(n,"RumEventCategory",function(){return ke})}}]);